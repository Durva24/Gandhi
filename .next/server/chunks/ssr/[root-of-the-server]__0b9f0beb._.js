module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},53277,a=>{"use strict";let b=(0,a.i(70106).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);a.s(["TrendingDown",()=>b],53277)},41675,33441,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>c],41675);let d=(0,b.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>d],33441)},31563,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(210),e=a.i(24669),f=a.i(53277),g=a.i(41675),h=a.i(33441);function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(new Set),[n,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{p()},[]);let p=async()=>{try{let a=await fetch("/api/get/lendings"),b=await a.json();if(b.success&&b.data){let a=b.data.filter(a=>"ongoing"===a.status);i(a)}k(!1)}catch(a){console.error("Error fetching lendings:",a),k(!1)}},q=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),r=a=>new Date(a).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),s=(a,b,c)=>{if(0===b)return a/c;let d=b/1200;return a*d*Math.pow(1+d,c)/(Math.pow(1+d,c)-1)},t=(a,b)=>{let c=new Date(a),d=new Date(b);return Math.max(1,(d.getFullYear()-c.getFullYear())*12+(d.getMonth()-c.getMonth()))},u=a=>{let b=new Date;return Math.ceil((new Date(a).getTime()-b.getTime())/864e5)},v=a=>{let b=new Set(l);b.has(a)?b.delete(a):b.add(a),m(b)},w=a.filter(a=>"borrowed"===a.type),x=a.filter(a=>"lent"===a.type),y=w.reduce((a,b)=>a+b.remaining_amount,0),z=x.reduce((a,b)=>a+b.remaining_amount,0),A=z-y,B=a.filter(a=>l.has(a.id)).reduce((a,b)=>{if("emi"!==b.recurrence)return a+b.remaining_amount;{let c=t(b.start_date,b.due_date);return a+s(b.principal,b.interest_rate,c)}},0);return j?(0,b.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:"12px",borderBottom:"2px solid #050505"},children:[(0,b.jsx)("div",{style:{background:"#C4F000",border:"2px solid #050505",height:"36px",width:"36px",animation:"pulse 1.5s ease-in-out infinite"}}),(0,b.jsx)("div",{style:{background:"#f5f5f5",height:"16px",width:"250px",animation:"pulse 1.5s ease-in-out infinite 0.2s"}})]}),(0,b.jsx)("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:(0,b.jsx)("div",{style:{display:"flex",gap:"16px",height:"140px"},children:[1,2,3].map(a=>(0,b.jsxs)("div",{style:{flex:1,background:1===a?"#C4F000":"#ffffff",border:"2px solid #050505",padding:"20px",animation:`pulse 1.5s ease-in-out infinite ${.2*a}s`},children:[(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"12px",width:"100px",marginBottom:"16px"}}),(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.15)",height:"32px",width:"140px",marginBottom:"10px"}}),(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"10px",width:"80px"}})]},a))})}),(0,b.jsx)("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
          }
        `})]}):(0,b.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px solid #050505"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"8px 10px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,b.jsx)(d.ArrowLeft,{size:18,strokeWidth:3})}),(0,b.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"16px",fontWeight:800,letterSpacing:"1.5px",color:"#050505"},children:"LENDING & BORROWING"})]}),(0,b.jsx)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:l.size>0&&(0,b.jsx)("button",{onClick:()=>{0!==l.size&&(o(!0),setTimeout(()=>{i(a=>a.map(a=>{if(!l.has(a.id))return a;if("emi"!==a.recurrence)return{...a,remaining_amount:0,status:"settled"};{let b=t(a.start_date,a.due_date),c=s(a.principal,a.interest_rate,b),d=Math.max(0,a.remaining_amount-c);return{...a,remaining_amount:d,status:d<=0?"settled":"ongoing"}}}).filter(a=>"ongoing"===a.status)),m(new Set),o(!1)},1500))},disabled:n,style:{background:n?"#f5f5f5":"#C4F000",border:"2px solid #050505",padding:"8px 16px",fontSize:"11px",fontWeight:700,color:"#050505",cursor:n?"not-allowed":"pointer",transition:"all 0.2s",letterSpacing:"0.5px",opacity:n?.6:1},children:(()=>{if(n)return"SETTLING...";if(0===l.size)return"SELECT ITEMS";let b=a.filter(a=>l.has(a.id)),c=b.every(a=>"emi"===a.recurrence),d=b.every(a=>"one_time"===a.recurrence);return c?`PAY ${l.size} EMI${l.size>1?"S":""} (${q(B)})`:d?`SETTLE ${l.size} FULL (${q(B)})`:`PROCESS ${l.size} ITEM${l.size>1?"S":""} (${q(B)})`})()})})]}),(0,b.jsxs)("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",gap:"16px",overflow:"auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",gap:"16px",flexShrink:0},children:[(0,b.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"12px"},children:[(0,b.jsx)(e.TrendingUp,{size:16,color:"#050505",strokeWidth:3}),(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",letterSpacing:"0.5px"},children:"TOTAL LENT"})]}),(0,b.jsx)("div",{style:{fontSize:"32px",fontWeight:800,color:"#050505",marginBottom:"6px"},children:q(z)}),(0,b.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",opacity:.8},children:[x.length," active ",1===x.length?"loan":"loans"]})]}),(0,b.jsxs)("div",{style:{flex:1,background:"#DC2626",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"12px"},children:[(0,b.jsx)(f.TrendingDown,{size:16,color:"#ffffff",strokeWidth:3}),(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#ffffff",letterSpacing:"0.5px"},children:"TOTAL BORROWED"})]}),(0,b.jsx)("div",{style:{fontSize:"32px",fontWeight:800,color:"#ffffff",marginBottom:"6px"},children:q(y)}),(0,b.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:"#ffffff",opacity:.9},children:[w.length," active ",1===w.length?"loan":"loans"]})]}),(0,b.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"12px",letterSpacing:"0.5px"},children:"NET POSITION"}),(0,b.jsx)("div",{style:{fontSize:"32px",fontWeight:800,color:A>=0?"#C4F000":"#DC2626",marginBottom:"6px"},children:q(Math.abs(A))}),(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",opacity:.8},children:A>=0?"Net creditor":"Net debtor"})]})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"16px",flex:1,minHeight:0},children:[(0,b.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid #f5f5f5"},children:[(0,b.jsxs)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",letterSpacing:"1px"},children:["LENT (",x.length,")"]}),(0,b.jsx)("div",{style:{background:"#C4F000",color:"#050505",padding:"4px 10px",fontSize:"10px",fontWeight:800,letterSpacing:"0.5px",border:"2px solid #050505"},children:"THEY OWE"})]}),(0,b.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"12px",overflowY:"auto",paddingRight:"4px"},children:0===x.length?(0,b.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"12px",opacity:.5},children:[(0,b.jsx)(e.TrendingUp,{size:40,color:"#050505",strokeWidth:2}),(0,b.jsx)("div",{style:{fontSize:"12px",fontWeight:700,color:"#050505"},children:"No lendings"})]}):x.map(a=>{let c=(a.principal-a.remaining_amount)/a.principal*100,d=t(a.start_date,a.due_date),e="emi"===a.recurrence?s(a.principal,a.interest_rate,d):0,f=u(a.due_date),i=l.has(a.id);return(0,b.jsxs)("div",{onClick:()=>v(a.id),style:{background:i?"#f0fdf4":"#fafafa",border:i?"2px solid #C4F000":"2px solid #e5e5e5",padding:"16px",cursor:"pointer",transition:"all 0.2s"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:a.party_name}),(0,b.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.6},children:a.interest_rate>0?`${a.interest_rate}% interest`:"Interest-free"})]}),(0,b.jsx)("div",{style:{width:"24px",height:"24px",border:"2px solid #050505",background:i?"#C4F000":"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i&&(0,b.jsx)(h.Check,{size:16,color:"#050505",strokeWidth:3})})]}),(0,b.jsx)("div",{style:{height:"10px",background:"#ffffff",border:"2px solid #050505",display:"flex",marginBottom:"12px",overflow:"hidden"},children:(0,b.jsx)("div",{style:{width:`${c}%`,background:"#C4F000",borderRight:c>0&&c<100?"1px solid #050505":"none",transition:"width 0.3s ease"}})}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,b.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505"},children:[q(a.remaining_amount)," remaining"]}),(0,b.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",opacity:.6},children:["of ",q(a.principal)]})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:f<7?"#DC2626":"#050505",display:"flex",alignItems:"center",gap:"4px"},children:[(0,b.jsx)(g.Calendar,{size:12,strokeWidth:2.5}),"Due: ",r(a.due_date)," (",f,"d)"]}),e>0&&(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505"},children:["EMI: ",q(e)]})]})]},a.id)})})]}),(0,b.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid #f5f5f5"},children:[(0,b.jsxs)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",letterSpacing:"1px"},children:["BORROWED (",w.length,")"]}),(0,b.jsx)("div",{style:{background:"#DC2626",color:"#ffffff",padding:"4px 10px",fontSize:"10px",fontWeight:800,letterSpacing:"0.5px",border:"2px solid #050505"},children:"YOU OWE"})]}),(0,b.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"12px",overflowY:"auto",paddingRight:"4px"},children:0===w.length?(0,b.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"12px",opacity:.5},children:[(0,b.jsx)(f.TrendingDown,{size:40,color:"#050505",strokeWidth:2}),(0,b.jsx)("div",{style:{fontSize:"12px",fontWeight:700,color:"#050505"},children:"No borrowings"})]}):w.map(a=>{let c=(a.principal-a.remaining_amount)/a.principal*100,d=t(a.start_date,a.due_date),e="emi"===a.recurrence?s(a.principal,a.interest_rate,d):0,f=u(a.due_date),i=l.has(a.id);return(0,b.jsxs)("div",{onClick:()=>v(a.id),style:{background:i?"#fef2f2":"#fafafa",border:i?"2px solid #DC2626":"2px solid #e5e5e5",padding:"16px",cursor:"pointer",transition:"all 0.2s"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:a.party_name}),(0,b.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.6},children:a.interest_rate>0?`${a.interest_rate}% interest`:"Interest-free"})]}),(0,b.jsx)("div",{style:{width:"24px",height:"24px",border:"2px solid #050505",background:i?"#DC2626":"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i&&(0,b.jsx)(h.Check,{size:16,color:"#ffffff",strokeWidth:3})})]}),(0,b.jsx)("div",{style:{height:"10px",background:"#ffffff",border:"2px solid #050505",display:"flex",marginBottom:"12px",overflow:"hidden"},children:(0,b.jsx)("div",{style:{width:`${c}%`,background:"#DC2626",borderRight:c>0&&c<100?"1px solid #050505":"none",transition:"width 0.3s ease"}})}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,b.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505"},children:[q(a.remaining_amount)," remaining"]}),(0,b.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",opacity:.6},children:["of ",q(a.principal)]})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:f<7?"#DC2626":"#050505",display:"flex",alignItems:"center",gap:"4px"},children:[(0,b.jsx)(g.Calendar,{size:12,strokeWidth:2.5}),"Due: ",r(a.due_date)," (",f,"d)"]}),e>0&&(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505"},children:["EMI: ",q(e)]})]})]},a.id)})})]})]})]}),(0,b.jsx)("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.6; }
        }
      `})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0b9f0beb._.js.map