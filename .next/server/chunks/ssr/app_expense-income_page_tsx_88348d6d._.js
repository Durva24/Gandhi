module.exports=[37934,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(210),e=a.i(24669),f=a.i(53277);function g(){let a,g,h,i,j,k,l,[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)("current");(0,c.useEffect)(()=>{s()},[]);let s=async()=>{try{let a=await fetch("/api/get/transactions"),b=await a.json();b.success&&n(b.data),p(!1)}catch(a){console.error("Error fetching data:",a),p(!1)}},t=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),u=a=>{let b=new Date;return b.setMonth(b.getMonth()-a),b.toLocaleString("en-US",{month:"short"})},v=a=>{let b=new Date,c=new Date(b.getFullYear(),b.getMonth()-a,1),d=new Date(b.getFullYear(),b.getMonth()-a+1,0);return m.filter(a=>{let b=new Date(a.date);return b>=c&&b<=d})},w=()=>{switch(q){case"current":return v(0);case"last":return v(1);case"twoMonths":return v(2);case"threeMonths":return v(3)}};if(o)return(0,b.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px solid #050505"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("div",{style:{background:"#C4F000",border:"2px solid #050505",height:"36px",width:"36px",animation:"pulse 1.5s ease-in-out infinite"}}),(0,b.jsx)("div",{style:{background:"#f5f5f5",height:"16px",width:"200px",animation:"pulse 1.5s ease-in-out infinite"}})]}),(0,b.jsx)("div",{style:{display:"flex",gap:"8px"},children:[1,2,3,4].map(a=>(0,b.jsx)("div",{style:{background:"#f5f5f5",border:"2px solid #050505",height:"32px",width:"50px",animation:`pulse 1.5s ease-in-out infinite ${.1*a}s`}},a))})]}),(0,b.jsxs)("div",{style:{flex:1,padding:"16px 20px",display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"auto 1fr",gap:"16px",overflow:"hidden",minHeight:0},children:[(0,b.jsxs)("div",{style:{gridColumn:"1 / 3",display:"flex",gap:"16px",height:"100px"},children:[(0,b.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"8px",animation:"pulse 1.5s ease-in-out infinite"},children:[(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"12px",width:"80px"}}),(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.15)",height:"24px",width:"120px"}}),(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"10px",width:"100px"}})]}),(0,b.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"8px",animation:"pulse 1.5s ease-in-out infinite 0.2s"},children:[(0,b.jsx)("div",{style:{background:"#f5f5f5",height:"12px",width:"80px"}}),(0,b.jsx)("div",{style:{background:"#e5e5e5",height:"24px",width:"120px"}}),(0,b.jsx)("div",{style:{background:"#f5f5f5",height:"10px",width:"100px"}})]}),(0,b.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"8px",animation:"pulse 1.5s ease-in-out infinite 0.4s"},children:[(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"12px",width:"80px"}}),(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.15)",height:"24px",width:"120px"}}),(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"10px",width:"100px"}})]})]}),(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",gap:"14px"},children:[(0,b.jsx)("div",{style:{background:"#f5f5f5",height:"12px",width:"140px",animation:"pulse 1.5s ease-in-out infinite 0.6s"}}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"14px"},children:[(0,b.jsx)("div",{style:{width:"180px",height:"180px",borderRadius:"50%",background:"linear-gradient(135deg, #C4F000 0%, #A8CC00 50%, #8CAA00 100%)",animation:"pulse 1.5s ease-in-out infinite 0.8s",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsx)("div",{style:{width:"110px",height:"110px",borderRadius:"50%",background:"#ffffff"}})}),(0,b.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"8px"},children:[1,2,3].map(a=>(0,b.jsxs)("div",{style:{background:"#fafafa",border:"1px solid #e5e5e5",height:"36px",padding:"8px 10px",display:"flex",alignItems:"center",gap:"8px",animation:`pulse 1.5s ease-in-out infinite ${.8+.1*a}s`},children:[(0,b.jsx)("div",{style:{width:"12px",height:"12px",background:"#C4F000",border:"1.5px solid #050505"}}),(0,b.jsx)("div",{style:{flex:1,background:"#e5e5e5",height:"10px"}}),(0,b.jsx)("div",{style:{background:"#e5e5e5",height:"10px",width:"40px"}}),(0,b.jsx)("div",{style:{background:"#e5e5e5",height:"10px",width:"60px"}})]},a))})]})]}),(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",gap:"14px"},children:[(0,b.jsx)("div",{style:{background:"#f5f5f5",height:"12px",width:"150px",animation:"pulse 1.5s ease-in-out infinite 0.7s"}}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"14px"},children:[(0,b.jsx)("div",{style:{width:"180px",height:"180px",borderRadius:"50%",background:"linear-gradient(135deg, #DC2626 0%, #B91C1C 50%, #991B1B 100%)",animation:"pulse 1.5s ease-in-out infinite 0.9s",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsx)("div",{style:{width:"110px",height:"110px",borderRadius:"50%",background:"#ffffff"}})}),(0,b.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"8px"},children:[1,2,3].map(a=>(0,b.jsxs)("div",{style:{background:"#fafafa",border:"1px solid #e5e5e5",height:"36px",padding:"8px 10px",display:"flex",alignItems:"center",gap:"8px",animation:`pulse 1.5s ease-in-out infinite ${.9+.1*a}s`},children:[(0,b.jsx)("div",{style:{width:"12px",height:"12px",background:"#DC2626",border:"1.5px solid #050505"}}),(0,b.jsx)("div",{style:{flex:1,background:"#e5e5e5",height:"10px"}}),(0,b.jsx)("div",{style:{background:"#e5e5e5",height:"10px",width:"40px"}}),(0,b.jsx)("div",{style:{background:"#e5e5e5",height:"10px",width:"60px"}})]},a))})]})]})]}),(0,b.jsx)("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
          }
        `})]});let x=w(),y=x.filter(a=>"credit"===a.type).reduce((a,b)=>a+b.amount,0),z=x.filter(a=>"debit"===a.type).reduce((a,b)=>a+b.amount,0),A=y-z,{prevIncome:B,prevExpense:C}={prevIncome:(a=v("current"===q?1:"last"===q?2:"twoMonths"===q?3:4)).filter(a=>"credit"===a.type).reduce((a,b)=>a+b.amount,0),prevExpense:a.filter(a=>"debit"===a.type).reduce((a,b)=>a+b.amount,0)},D=B>0?(y-B)/B*100:0,E=C>0?(z-C)/C*100:0,F=(g=new Map,w().filter(a=>"credit"===a.type).forEach(a=>{let b=a.categories?.name||"Other Income";g.set(b,(g.get(b)||0)+a.amount)}),h=Array.from(g.values()).reduce((a,b)=>a+b,0),i=["#C4F000","#A8CC00","#8CAA00","#708800","#546600","#3D4D00"],Array.from(g.entries()).map(([a,b],c)=>({name:a,amount:b,percentage:h>0?b/h*100:0,color:i[c%i.length]})).sort((a,b)=>b.amount-a.amount)),G=(j=new Map,w().filter(a=>"debit"===a.type).forEach(a=>{let b=a.categories?.name||"Other";j.set(b,(j.get(b)||0)+a.amount)}),k=Array.from(j.values()).reduce((a,b)=>a+b,0),l=["#DC2626","#B91C1C","#991B1B","#7F1D1D","#6B1C1C","#581C1C"],Array.from(j.entries()).map(([a,b],c)=>({name:a,amount:b,percentage:k>0?b/k*100:0,color:l[c%l.length]})).sort((a,b)=>b.amount-a.amount)),H=(a,c=180)=>{if(0===a.reduce((a,b)=>a+b.amount,0))return(0,b.jsxs)("svg",{width:c,height:c,children:[(0,b.jsx)("circle",{cx:c/2,cy:c/2,r:c/2-15,fill:"#f5f5f5"}),(0,b.jsx)("circle",{cx:c/2,cy:c/2,r:c/2-40,fill:"#ffffff"})]});let d=c/2,e=c/2,f=c/2-5,g=c/2-35;return(0,b.jsxs)("svg",{width:c,height:c,children:[(0,b.jsx)("defs",{children:a.map((a,c)=>(0,b.jsxs)("linearGradient",{id:`gradient-${c}-${a.name}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,b.jsx)("stop",{offset:"0%",style:{stopColor:a.color,stopOpacity:1}}),(0,b.jsx)("stop",{offset:"100%",style:{stopColor:a.color,stopOpacity:.85}})]},c))}),(0,b.jsx)("g",{transform:`rotate(-90 ${d} ${e})`,children:a.map((c,h)=>{let i=0;a.slice(0,h).forEach(a=>{i+=a.percentage/100*360});let j=c.percentage/100*360,k=+(j>180),l=d+f*Math.cos(i*Math.PI/180),m=e+f*Math.sin(i*Math.PI/180),n=d+f*Math.cos((i+j)*Math.PI/180),o=e+f*Math.sin((i+j)*Math.PI/180),p=d+g*Math.cos(i*Math.PI/180),q=e+g*Math.sin(i*Math.PI/180),r=d+g*Math.cos((i+j)*Math.PI/180),s=e+g*Math.sin((i+j)*Math.PI/180);return(0,b.jsx)("path",{d:`
                  M ${l} ${m}
                  A ${f} ${f} 0 ${k} 1 ${n} ${o}
                  L ${r} ${s}
                  A ${g} ${g} 0 ${k} 0 ${p} ${q}
                  Z
                `,fill:`url(#gradient-${h}-${c.name})`},h)})}),(0,b.jsx)("circle",{cx:d,cy:e,r:g,fill:"#ffffff"})]})};return(0,b.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px solid #050505"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"8px 10px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,b.jsx)(d.ArrowLeft,{size:18,strokeWidth:3})}),(0,b.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"16px",fontWeight:800,letterSpacing:"1.5px",color:"#050505"},children:"INCOME & EXPENSE ANALYSIS"})]}),(0,b.jsx)("div",{style:{display:"flex",gap:"8px"},children:["current","last","twoMonths","threeMonths"].map(a=>(0,b.jsx)("button",{onClick:()=>r(a),style:{background:q===a?"#C4F000":"#ffffff",border:"2px solid #050505",padding:"6px 12px",fontSize:"10px",fontWeight:700,color:"#050505",cursor:"pointer",transition:"all 0.2s",letterSpacing:"0.5px"},children:(a=>{switch(a){case"current":return u(0);case"last":return u(1);case"twoMonths":return u(2);case"threeMonths":return u(3)}})(a).toUpperCase()},a))})]}),(0,b.jsxs)("div",{style:{flex:1,padding:"16px 20px",display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"auto 1fr",gap:"16px",overflow:"hidden",minHeight:0},children:[(0,b.jsxs)("div",{style:{gridColumn:"1 / 3",display:"flex",gap:"16px",height:"100px"},children:[(0,b.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"6px",letterSpacing:"0.5px"},children:"TOTAL INCOME"}),(0,b.jsx)("div",{style:{fontSize:"26px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:t(y)}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",display:"flex",alignItems:"center",gap:"4px"},children:[D>=0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.TrendingUp,{size:12,strokeWidth:3}),"+",D.toFixed(1),"%"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.TrendingDown,{size:12,strokeWidth:3}),D.toFixed(1),"%"]}),(0,b.jsx)("span",{style:{opacity:.7},children:"vs last period"})]})]}),(0,b.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"6px",letterSpacing:"0.5px"},children:A>=0?"SURPLUS":"DEFICIT"}),(0,b.jsx)("div",{style:{fontSize:"26px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:t(Math.abs(A))}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.8},children:[y>0?(Math.abs(A)/y*100).toFixed(1):"0.0","% of income"]})]}),(0,b.jsxs)("div",{style:{flex:1,background:z>35e3?"#DC2626":"#C4F000",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:z>35e3?"#ffffff":"#050505",marginBottom:"6px",letterSpacing:"0.5px"},children:"TOTAL EXPENSE"}),(0,b.jsx)("div",{style:{fontSize:"26px",fontWeight:800,color:z>35e3?"#ffffff":"#050505",marginBottom:"4px"},children:t(z)}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:z>35e3?"#ffffff":"#050505",display:"flex",alignItems:"center",gap:"4px"},children:[E>=0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.TrendingUp,{size:12,strokeWidth:3}),"+",E.toFixed(1),"%"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.TrendingDown,{size:12,strokeWidth:3}),E.toFixed(1),"%"]}),(0,b.jsx)("span",{style:{opacity:.7},children:"vs last period"})]})]})]}),(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:[(0,b.jsx)("div",{style:{fontSize:"12px",fontWeight:700,color:"#050505",marginBottom:"12px",letterSpacing:"0.5px"},children:"INCOME BY CATEGORY"}),(0,b.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"14px",minHeight:0},children:[(0,b.jsx)("div",{style:{flex:"0 0 auto"},children:H(F,180)}),(0,b.jsx)("div",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",gap:"8px",overflowY:"auto",paddingRight:"8px",maxHeight:"calc(100% - 194px)"},children:0===F.length?(0,b.jsx)("div",{style:{fontSize:"11px",color:"#050505",opacity:.5,textAlign:"center",padding:"16px"},children:"No income data for this period"}):F.map((a,c)=>(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#fafafa",border:"1px solid #e5e5e5"},children:[(0,b.jsx)("div",{style:{width:"12px",height:"12px",background:a.color,flexShrink:0,border:"1.5px solid #050505"}}),(0,b.jsx)("div",{style:{flex:1,fontSize:"11px",fontWeight:600,color:"#050505",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.name}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:800,color:"#050505",flexShrink:0,background:"#ffffff",padding:"3px 8px",border:"1px solid #e5e5e5"},children:[a.percentage.toFixed(1),"%"]}),(0,b.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#708800",flexShrink:0},children:t(a.amount)})]},c))})]})]}),(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:[(0,b.jsx)("div",{style:{fontSize:"12px",fontWeight:700,color:"#050505",marginBottom:"12px",letterSpacing:"0.5px"},children:"EXPENSE BY CATEGORY"}),(0,b.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"14px",minHeight:0},children:[(0,b.jsx)("div",{style:{flex:"0 0 auto"},children:H(G,180)}),(0,b.jsx)("div",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",gap:"8px",overflowY:"auto",paddingRight:"8px",maxHeight:"calc(100% - 194px)"},children:0===G.length?(0,b.jsx)("div",{style:{fontSize:"11px",color:"#050505",opacity:.5,textAlign:"center",padding:"16px"},children:"No expense data for this period"}):G.map((a,c)=>(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#fafafa",border:"1px solid #e5e5e5"},children:[(0,b.jsx)("div",{style:{width:"12px",height:"12px",background:a.color,flexShrink:0,border:"1.5px solid #050505"}}),(0,b.jsx)("div",{style:{flex:1,fontSize:"11px",fontWeight:600,color:"#050505",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.name}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:800,color:"#050505",flexShrink:0,background:"#ffffff",padding:"3px 8px",border:"1px solid #e5e5e5"},children:[a.percentage.toFixed(1),"%"]}),(0,b.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#7F1D1D",flexShrink:0},children:t(a.amount)})]},c))})]})]})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=app_expense-income_page_tsx_88348d6d._.js.map