module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},1708,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(210),e=a.i(24669);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)([]);(0,c.useEffect)(()=>{q()},[]);let q=async()=>{try{await new Promise(a=>setTimeout(a,800));let a=await fetch("/api/get/transactions?type=credit"),b=await a.json();if(b.success&&b.data&&b.data.length>0){let a=b.data.filter(a=>"credit"===a.type);f(a),h(!1),await new Promise(a=>setTimeout(a,400)),j(!0),await new Promise(a=>setTimeout(a,2e3));let c=a.map(a=>({date:new Date(a.date),amount:parseFloat(a.amount.toString())})).sort((a,b)=>a.date.getTime()-b.date.getTime()),d=[];for(let a=1;a<c.length;a++){let b=(c[a].date.getTime()-c[a-1].date.getTime())/864e5;d.push(b)}let e=c.map(a=>a.amount),g=e.map((a,b)=>b),i=g.length,k=g.reduce((a,b)=>a+b,0),m=e.reduce((a,b)=>a+b,0),o=g.reduce((a,b,c)=>a+b*e[c],0),q=g.reduce((a,b)=>a+b*b,0),r=(i*o-k*m)/(i*q-k*k),s=(m-r*k)/i,t=Math.max(0,r*e.length+s),u=d.reduce((a,b)=>a+b,0)/d.length,v=c[c.length-1].date,w=new Date(v.getTime()+24*u*36e5),x=new Date,y=Math.ceil((w.getTime()-x.getTime())/864e5),z=e.reduce((a,b,c)=>a+Math.pow(b-(r*c+s),2),0)/e.length,A=Math.max(0,Math.min(100,100-Math.sqrt(z)/(m/i)*50));n({amount:t,daysUntil:Math.max(0,y),date:w,confidence:A});let B=c.slice(-8),C=[...e.slice(-8),t],D=Math.min(...C),E=Math.max(...C)-D||1,F=B.map((a,b)=>({x:b,y:240-(a.amount-D)/E*190,amount:a.amount,date:a.date}));F.push({x:F.length,y:240-(t-D)/E*190,amount:t,date:w,isPrediction:!0}),p(F),j(!1),await new Promise(a=>setTimeout(a,600)),l(!0)}else h(!1)}catch(a){console.error("Error fetching data:",a),h(!1),j(!1)}},r=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a);if(g)return(0,b.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,b.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",height:"44px",width:"44px"}}),(0,b.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",height:"20px",width:"200px",border:"2px solid #050505"}})]}),(0,b.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[(0,b.jsx)("div",{style:{background:"linear-gradient(90deg, #C4F000 25%, #d4ff30 50%, #C4F000 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",padding:"20px",height:"140px"}}),(0,b.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",padding:"20px",height:"140px"}}),(0,b.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",padding:"20px",height:"140px"}})]}),(0,b.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",padding:"24px",flex:1,minHeight:"400px"}})]}),(0,b.jsx)("style",{children:`
          @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
          }
        `})]});if(!m||0===o.length)return(0,b.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px"},children:[(0,b.jsx)("div",{style:{fontSize:"16px",fontWeight:700,color:"#050505",marginBottom:"8px"},children:"NO DATA AVAILABLE"}),(0,b.jsx)("div",{style:{fontSize:"12px",fontWeight:600,color:"#050505",opacity:.5},children:"Not enough income transactions to generate forecast"})]});let s=a.reduce((a,b)=>a+b.amount,0)/a.length,t=(m.amount-s)/s*100,u=o.filter(a=>!a.isPrediction),v=o.slice(-2);return(0,b.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,b.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"10px 12px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,b.jsx)(d.ArrowLeft,{size:20,strokeWidth:3})}),(0,b.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"20px",fontWeight:800,letterSpacing:"1.5px",color:"#050505",lineHeight:"44px"},children:"INCOME FORECAST"})]}),(0,b.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[(0,b.jsxs)("div",{style:{background:i?"linear-gradient(90deg, #C4F000 25%, #d4ff30 50%, #C4F000 75%)":"#C4F000",backgroundSize:"200% 100%",animation:i?"shimmer 1.5s infinite":"none",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between",transition:"background 0.3s"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,b.jsx)(e.TrendingUp,{size:14,strokeWidth:3}),(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",letterSpacing:"0.5px"},children:i?"CALCULATING...":"PREDICTED INCOME"})]}),(0,b.jsx)("div",{style:{fontSize:"36px",fontWeight:800,color:"#050505",lineHeight:1,opacity:i?.3:1,transition:"opacity 0.3s"},children:r(m.amount)}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:i?.3:.7,marginTop:"12px",transition:"opacity 0.3s"},children:["Expected in ",m.daysUntil," ",1===m.daysUntil?"day":"days"]})]}),(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"CONFIDENCE LEVEL"}),(0,b.jsxs)("div",{style:{fontSize:"36px",fontWeight:800,color:m.confidence>=70?"#16A34A":m.confidence>=50?"#CA8A04":"#DC2626",lineHeight:1,opacity:i?.3:1,transition:"opacity 0.3s"},children:[m.confidence.toFixed(0),"%"]}),(0,b.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:"Prediction accuracy"}),(0,b.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505",position:"relative",overflow:"hidden"},children:(0,b.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:i?"0%":`${m.confidence}%`,background:m.confidence>=70?"#16A34A":m.confidence>=50?"#CA8A04":"#DC2626",transition:"width 0.8s ease"}})})]}),(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"GROWTH TREND"}),(0,b.jsxs)("div",{style:{fontSize:"36px",fontWeight:800,color:t>=0?"#16A34A":"#DC2626",lineHeight:1,opacity:i?.3:1,transition:"opacity 0.3s"},children:[t>=0?"+":"",t.toFixed(1),"%"]}),(0,b.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:"vs average income"}),(0,b.jsxs)("div",{style:{marginTop:"12px",fontSize:"10px",fontWeight:600,color:"#050505",opacity:.7},children:["Avg: ",r(s)]})]})]}),(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"24px",height:"420px",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",letterSpacing:"0.5px"},children:"INCOME PREDICTION CURVE"}),(0,b.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,b.jsx)("div",{style:{width:"16px",height:"3px",background:"#16A34A",border:"1px solid #050505"}}),(0,b.jsx)("span",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.6},children:"Historical"})]}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,b.jsx)("div",{style:{width:"16px",height:"3px",background:"#84CC16",border:"1px solid #050505",borderStyle:"dashed"}}),(0,b.jsx)("span",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.6},children:"Predicted"})]})]})]}),(0,b.jsx)("div",{style:{flex:1,position:"relative"},children:(0,b.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 1000 280",preserveAspectRatio:"none",children:[(0,b.jsxs)("defs",{children:[(0,b.jsxs)("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,b.jsx)("stop",{offset:"0%",style:{stopColor:"#16A34A",stopOpacity:.3}}),(0,b.jsx)("stop",{offset:"100%",style:{stopColor:"#16A34A",stopOpacity:.05}})]}),(0,b.jsxs)("linearGradient",{id:"predictionGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,b.jsx)("stop",{offset:"0%",style:{stopColor:"#84CC16",stopOpacity:.3}}),(0,b.jsx)("stop",{offset:"100%",style:{stopColor:"#84CC16",stopOpacity:.05}})]})]}),u.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("path",{d:`M 60 240 ${u.map(a=>{let b=60+a.x/(o.length-1)*880,c=Math.max(30,Math.min(240,a.y));return`L ${b} ${c}`}).join(" ")} L ${60+u[u.length-1].x/(o.length-1)*880} 240 Z`,fill:"url(#areaGradient)"}),(0,b.jsx)("path",{d:u.map((a,b)=>{let c=60+a.x/(o.length-1)*880,d=Math.max(30,Math.min(240,a.y));return`${0===b?"M":"L"} ${c} ${d}`}).join(" "),fill:"none",stroke:"#16A34A",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),u.map((a,c)=>{let d=60+a.x/(o.length-1)*880,e=Math.max(30,Math.min(240,a.y));return(0,b.jsx)("g",{children:(0,b.jsx)("circle",{cx:d,cy:e,r:"5",fill:"#16A34A",stroke:"#050505",strokeWidth:"2"})},c)})]}),v.length>1&&k&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("path",{d:`${v.map((a,b)=>{let c=60+a.x/(o.length-1)*880,d=Math.max(30,Math.min(240,a.y));return`${0===b?"M":"L"} ${c} ${d}`}).join(" ")} L ${60+v[v.length-1].x/(o.length-1)*880} 240 L ${60+v[0].x/(o.length-1)*880} 240 Z`,fill:"url(#predictionGradient)",opacity:"0",children:(0,b.jsx)("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.8s",fill:"freeze"})}),(0,b.jsx)("path",{d:v.map((a,b)=>{let c=60+a.x/(o.length-1)*880,d=Math.max(30,Math.min(240,a.y));return`${0===b?"M":"L"} ${c} ${d}`}).join(" "),fill:"none",stroke:"#84CC16",strokeWidth:"3",strokeDasharray:"8,6",strokeLinecap:"round",strokeLinejoin:"round",strokeDashoffset:"1000",children:(0,b.jsx)("animate",{attributeName:"stroke-dashoffset",from:"1000",to:"0",dur:"1s",fill:"freeze"})}),v.map((a,c)=>{if(!a.isPrediction)return null;let d=60+a.x/(o.length-1)*880,e=Math.max(30,Math.min(240,a.y));return(0,b.jsxs)("g",{opacity:"0",children:[(0,b.jsx)("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.5s",begin:"0.8s",fill:"freeze"}),(0,b.jsx)("circle",{cx:d,cy:e,r:"7",fill:"#84CC16",stroke:"#050505",strokeWidth:"2",children:(0,b.jsx)("animate",{attributeName:"r",values:"7;10;7",dur:"2s",repeatCount:"indefinite",begin:"1s"})}),(0,b.jsxs)("circle",{cx:d,cy:e,r:"7",fill:"none",stroke:"#84CC16",strokeWidth:"2",opacity:"0.3",children:[(0,b.jsx)("animate",{attributeName:"r",values:"7;16;7",dur:"2s",repeatCount:"indefinite",begin:"1s"}),(0,b.jsx)("animate",{attributeName:"opacity",values:"0.3;0;0.3",dur:"2s",repeatCount:"indefinite",begin:"1s"})]}),(0,b.jsx)("text",{x:d,y:e-20,textAnchor:"middle",fontSize:"11",fontWeight:"700",fill:"#84CC16",children:r(a.amount)})]},c)})]}),o.map((a,c)=>{let d=60+a.x/(o.length-1)*880;return(0,b.jsx)("g",{children:(0,b.jsx)("text",{x:d,y:"265",textAnchor:"middle",fontSize:"10",fontWeight:"600",fill:"#050505",opacity:"0.5",children:a.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"})})},c)}),i&&(0,b.jsxs)("g",{children:[(0,b.jsx)("text",{x:"500",y:"130",textAnchor:"middle",fontSize:"14",fontWeight:"700",fill:"#050505",opacity:"0.6",children:"Analyzing patterns and predicting future income..."}),(0,b.jsxs)("circle",{cx:"500",cy:"160",r:"20",fill:"none",stroke:"#050505",strokeWidth:"2",opacity:"0.3",children:[(0,b.jsx)("animate",{attributeName:"r",values:"20;30;20",dur:"1.5s",repeatCount:"indefinite"}),(0,b.jsx)("animate",{attributeName:"opacity",values:"0.3;0;0.3",dur:"1.5s",repeatCount:"indefinite"})]}),(0,b.jsxs)("circle",{cx:"500",cy:"160",r:"15",fill:"none",stroke:"#050505",strokeWidth:"2",opacity:"0.5",children:[(0,b.jsx)("animate",{attributeName:"r",values:"15;25;15",dur:"1.5s",repeatCount:"indefinite"}),(0,b.jsx)("animate",{attributeName:"opacity",values:"0.5;0;0.5",dur:"1.5s",repeatCount:"indefinite"})]})]})]})})]})]}),(0,b.jsx)("style",{children:`
        @keyframes shimmer {
          0% { background-position: 200% 0; }
          100% { background-position: -200% 0; }
        }
      `})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__a910fb67._.js.map