module.exports=[93870,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(210);function e(){let a,e,f,g,h,i,[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)("weekly");(0,c.useEffect)(()=>{p()},[]);let p=async()=>{try{let a=await fetch("/api/get/transactions?type=debit"),b=await a.json();b.success&&k(b.data.filter(a=>"debit"===a.type)),m(!1)}catch(a){console.error("Error fetching data:",a),m(!1)}},q=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),r=()=>{let a=new Date,b=new Date(a);return"weekly"===n?b.setDate(a.getDate()-7):"monthly"===n&&b.setDate(a.getDate()-30),j.filter(a=>new Date(a.date)>=b)};if(l)return(0,b.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,b.jsx)("div",{style:{background:"#f5f5f5",border:"2px solid #050505",padding:"10px 12px",height:"44px",width:"44px"}}),(0,b.jsx)("div",{style:{background:"#f5f5f5",height:"20px",width:"150px"}})]}),(0,b.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"auto 1fr",gap:"16px",maxHeight:"calc(100vh - 90px)",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{gridColumn:"span 6",display:"flex",gap:"16px"},children:[(0,b.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{width:"60%",height:"11px",background:"rgba(0,0,0,0.1)",marginBottom:"8px"}}),(0,b.jsx)("div",{style:{width:"80%",height:"36px",background:"rgba(0,0,0,0.1)"}}),(0,b.jsx)("div",{style:{width:"50%",height:"10px",background:"rgba(0,0,0,0.1)",marginTop:"12px"}})]}),(0,b.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{width:"60%",height:"11px",background:"#f5f5f5",marginBottom:"8px"}}),(0,b.jsx)("div",{style:{width:"50%",height:"36px",background:"#f5f5f5"}}),(0,b.jsx)("div",{style:{width:"70%",height:"10px",background:"#f5f5f5",marginTop:"4px"}}),(0,b.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505"}})]})]}),(0,b.jsxs)("div",{style:{gridColumn:"span 3",background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{width:"60%",height:"11px",background:"#f5f5f5",marginBottom:"8px"}}),(0,b.jsx)("div",{style:{width:"70%",height:"36px",background:"#f5f5f5"}}),(0,b.jsx)("div",{style:{width:"80%",height:"10px",background:"#f5f5f5",marginTop:"4px"}}),(0,b.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505"}})]}),(0,b.jsxs)("div",{style:{gridColumn:"span 3",background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{width:"60%",height:"11px",background:"#f5f5f5",marginBottom:"8px"}}),(0,b.jsx)("div",{style:{width:"70%",height:"36px",background:"#f5f5f5"}}),(0,b.jsx)("div",{style:{width:"80%",height:"10px",background:"#f5f5f5",marginTop:"4px"}}),(0,b.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505"}})]}),(0,b.jsxs)("div",{style:{gridColumn:"span 7",background:"#ffffff",border:"2px solid #050505",padding:"24px",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,b.jsx)("div",{style:{width:"120px",height:"11px",background:"#f5f5f5"}}),(0,b.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[(0,b.jsx)("div",{style:{width:"70px",height:"28px",background:"#C4F000",border:"2px solid #050505"}}),(0,b.jsx)("div",{style:{width:"70px",height:"28px",background:"#ffffff",border:"2px solid #050505"}})]})]}),(0,b.jsx)("div",{style:{flex:1,position:"relative",minHeight:0,background:"#f5f5f5"}})]}),(0,b.jsxs)("div",{style:{gridColumn:"span 5",background:"#ffffff",border:"2px solid #050505",padding:"24px",display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{width:"150px",height:"11px",background:"#f5f5f5",marginBottom:"24px"}}),(0,b.jsxs)("div",{style:{display:"flex",gap:"32px",flex:1,alignItems:"center"},children:[(0,b.jsx)("div",{style:{width:"200px",height:"200px",borderRadius:"50%",background:"#f5f5f5"}}),(0,b.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"12px"},children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,b.jsx)("div",{style:{width:"14px",height:"14px",background:"#f5f5f5"}}),(0,b.jsxs)("div",{style:{flex:1},children:[(0,b.jsx)("div",{style:{width:"60%",height:"12px",background:"#f5f5f5",marginBottom:"4px"}}),(0,b.jsx)("div",{style:{width:"40%",height:"10px",background:"#f5f5f5"}})]})]},a))})]})]})]})]});let s=r(),t=s.reduce((a,b)=>a+b.amount,0),u=t/5e4*100,v=u>=80,w=j.filter(a=>{let b=new Date;return b.setDate(b.getDate()-7),new Date(a.date)>=b}).reduce((a,b)=>a+b.amount,0),x=w/(5e4/30*7)*100,y=x>=80,z=j.filter(a=>{let b=new Date;return b.setDate(b.getDate()-30),new Date(a.date)>=b}).reduce((a,b)=>a+b.amount,0),A=z/5e4*100,B=A>=80,C=(a=new Map,r().forEach(b=>{let c=b.categories?.name||"Other";a.set(c,(a.get(c)||0)+b.amount)}),e=Array.from(a.values()).reduce((a,b)=>a+b,0),f=["#C4F000","#A8CC00","#8CAA00","#708800","#546600"],Array.from(a.entries()).map(([a,b],c)=>({name:a,amount:b,percentage:e>0?b/e*100:0,color:f[c%f.length]})).sort((a,b)=>b.amount-a.amount)),D=(()=>{let a=new Date,b=[];for(let c=("weekly"===n?7:30)-1;c>=0;c--){let d=new Date(a);d.setDate(d.getDate()-c);let e=d.toISOString().split("T")[0],f=j.filter(a=>a.date.split("T")[0]===e).reduce((a,b)=>a+b.amount,0);b.push({date:e,amount:f})}return b})(),E=Math.max(...D.map(a=>a.amount),1);return D.reduce((a,b)=>a+b.amount,0),D.length,(0,b.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,b.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"10px 12px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,b.jsx)(d.ArrowLeft,{size:20,strokeWidth:3})}),(0,b.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"20px",fontWeight:800,letterSpacing:"1.5px",color:"#050505",lineHeight:"44px"},children:"SPENDMETER"})]}),(0,b.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"auto 1fr",gap:"16px",maxHeight:"calc(100vh - 90px)",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{gridColumn:"span 6",display:"flex",gap:"16px"},children:[(0,b.jsxs)("div",{style:{flex:1,background:v?"#DC2626":"#C4F000",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:v?"#ffffff":"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"TOTAL SPENT"}),(0,b.jsx)("div",{style:{fontSize:"36px",fontWeight:800,color:v?"#ffffff":"#050505",lineHeight:1},children:q(t)}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:v?"#ffffff":"#050505",opacity:.7,marginTop:"12px"},children:[s.length," transactions"]})]}),(0,b.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"BUDGET STATUS"}),(0,b.jsxs)("div",{style:{fontSize:"36px",fontWeight:800,color:v?"#DC2626":"#050505",lineHeight:1},children:[u.toFixed(0),"%"]}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:["of ",q(5e4)," budget"]}),(0,b.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505",position:"relative",overflow:"hidden"},children:(0,b.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:`${Math.min(u,100)}%`,background:v?"#DC2626":"#C4F000",transition:"width 0.3s ease"}})})]})]}),(0,b.jsxs)("div",{style:{gridColumn:"span 3",background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"WEEKLY SPEND"}),(0,b.jsx)("div",{style:{fontSize:"36px",fontWeight:800,color:y?"#DC2626":"#050505",lineHeight:1},children:q(w)}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:[x.toFixed(0),"% of weekly budget"]}),(0,b.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505",position:"relative",overflow:"hidden"},children:(0,b.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:`${Math.min(x,100)}%`,background:y?"#DC2626":"#C4F000",transition:"width 0.3s ease"}})})]}),(0,b.jsxs)("div",{style:{gridColumn:"span 3",background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"MONTHLY SPEND"}),(0,b.jsx)("div",{style:{fontSize:"36px",fontWeight:800,color:B?"#DC2626":"#050505",lineHeight:1},children:q(z)}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:[A.toFixed(0),"% of monthly budget"]}),(0,b.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505",position:"relative",overflow:"hidden"},children:(0,b.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:`${Math.min(A,100)}%`,background:B?"#DC2626":"#C4F000",transition:"width 0.3s ease"}})})]}),(0,b.jsxs)("div",{style:{gridColumn:"span 7",background:"#ffffff",border:"2px solid #050505",padding:"24px",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",letterSpacing:"0.5px"},children:"SPENDING CURVE"}),(0,b.jsx)("div",{style:{display:"flex",gap:"6px"},children:["weekly","monthly"].map(a=>(0,b.jsx)("button",{onClick:()=>o(a),style:{background:n===a?"#C4F000":"#ffffff",border:"2px solid #050505",padding:"6px 12px",fontSize:"10px",fontWeight:700,color:"#050505",cursor:"pointer",letterSpacing:"0.5px",transition:"all 0.2s"},children:a.toUpperCase()},a))})]}),(0,b.jsx)("div",{style:{flex:1,position:"relative",minHeight:0},children:(0,b.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 800 300",preserveAspectRatio:"none",children:(h=(g=D.map((a,b)=>({x:b/(D.length-1)*800,y:280-a.amount/E*260,amount:a.amount}))).map((a,b)=>`${0===b?"M":"L"} ${a.x} ${a.y}`).join(" "),i=`M 0 300 L ${g.map(a=>`${a.x} ${a.y}`).join(" L ")} L 800 300 Z`,(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("path",{d:i,fill:"#C4F000"}),(0,b.jsx)("path",{d:h,fill:"none",stroke:"#050505",strokeWidth:"2"})]}))})})]}),(0,b.jsxs)("div",{style:{gridColumn:"span 5",background:"#ffffff",border:"2px solid #050505",padding:"24px",display:"flex",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"24px",letterSpacing:"0.5px"},children:"CATEGORY DISTRIBUTION"}),(0,b.jsxs)("div",{style:{display:"flex",gap:"32px",flex:1,alignItems:"center"},children:[(0,b.jsx)("div",{style:{flex:"0 0 auto",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsxs)("div",{style:{position:"relative",width:"200px",height:"200px"},children:[(0,b.jsxs)("svg",{width:"200",height:"200",style:{transform:"rotate(-90deg)"},children:[(0,b.jsx)("defs",{children:C.map((a,c)=>(0,b.jsxs)("linearGradient",{id:`grad${c}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,b.jsx)("stop",{offset:"0%",style:{stopColor:a.color,stopOpacity:1}}),(0,b.jsx)("stop",{offset:"100%",style:{stopColor:a.color,stopOpacity:.7}})]},c))}),C.map((a,c)=>{let d=0;C.slice(0,c).forEach(a=>{d+=a.percentage/100*360});let e=a.percentage/100*360,f=100+90*Math.cos(d*Math.PI/180),g=100+90*Math.sin(d*Math.PI/180),h=100+90*Math.cos((d+e)*Math.PI/180),i=100+90*Math.sin((d+e)*Math.PI/180);return(0,b.jsx)("path",{d:`M 100 100 L ${f} ${g} A 90 90 0 ${+(e>180)} 1 ${h} ${i} Z`,fill:`url(#grad${c})`},c)}),(0,b.jsx)("circle",{cx:"100",cy:"100",r:"55",fill:"#ffffff"})]}),(0,b.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.5},children:"TOTAL"}),(0,b.jsx)("div",{style:{fontSize:"16px",fontWeight:800,color:"#050505",marginTop:"4px"},children:q(t)})]})]})}),(0,b.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"12px",overflowY:"auto",maxHeight:"200px"},children:C.map((a,c)=>(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,b.jsx)("div",{style:{width:"14px",height:"14px",background:a.color,flexShrink:0}}),(0,b.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,b.jsx)("div",{style:{fontSize:"12px",fontWeight:700,color:"#050505",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.name}),(0,b.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5},children:q(a.amount)})]}),(0,b.jsxs)("div",{style:{fontSize:"13px",fontWeight:800,color:"#050505",flexShrink:0},children:[a.percentage.toFixed(0),"%"]})]},c))})]})]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_spend_page_tsx_b68c9b02._.js.map