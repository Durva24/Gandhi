module.exports=[36287,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(210),e=a.i(41675),f=a.i(70106);let g=(0,f.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),h=(0,f.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var i=a.i(33441);function j(){let[a,f]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(0),[t,u]=(0,c.useState)(new Set),[v,w]=(0,c.useState)(!1);(0,c.useEffect)(()=>{x()},[]);let x=async()=>{try{let[a,b]=await Promise.all([fetch("/api/get/bills"),fetch("/api/get/accounts")]),c=await a.json(),d=await b.json();if(c.success){let a=c.data.filter(a=>"paid"!==a.status);f(a)}if(d.success){k(d.data);let a=d.data.reduce((a,b)=>a+b.balance,0);s(a)}m(!1)}catch(a){console.error("Error fetching data:",a),m(!1)}},y=async()=>{if(0===t.size)return;w(!0);let b=a.filter(a=>t.has(a.id)).reduce((a,b)=>a+b.amount,0);setTimeout(()=>{s(a=>a-b),f(a=>a.filter(a=>!t.has(a.id))),u(new Set),w(!1)},1500)},z=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),A=a=>new Date(a).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),B=a=>{switch(a){case"high":return"#DC2626";case"medium":return"#F59E0B";default:return"#C4F000"}},C=a.filter(a=>t.has(a.id)).reduce((a,b)=>a+b.amount,0);if(l)return(0,b.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:"12px",borderBottom:"2px solid #050505"},children:[(0,b.jsx)("div",{style:{background:"#C4F000",border:"2px solid #050505",height:"36px",width:"36px",animation:"pulse 1.5s ease-in-out infinite"}}),(0,b.jsx)("div",{style:{background:"#f5f5f5",height:"16px",width:"200px",animation:"pulse 1.5s ease-in-out infinite 0.2s"}})]}),(0,b.jsx)("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:(0,b.jsx)("div",{style:{display:"flex",gap:"16px",height:"120px"},children:[1,2,3].map(a=>(0,b.jsxs)("div",{style:{flex:1,background:1===a?"#C4F000":2===a?"#ffffff":"#f5f5f5",border:"2px solid #050505",padding:"16px",animation:`pulse 1.5s ease-in-out infinite ${.2*a}s`},children:[(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"12px",width:"80px",marginBottom:"12px"}}),(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.15)",height:"28px",width:"120px",marginBottom:"8px"}}),(0,b.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"10px",width:"100px"}})]},a))})}),(0,b.jsx)("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
          }
        `})]});let D=a.reduce((a,b)=>a+b.amount,0),E=r>=D;return(0,b.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px solid #050505"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"8px 10px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,b.jsx)(d.ArrowLeft,{size:18,strokeWidth:3})}),(0,b.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"16px",fontWeight:800,letterSpacing:"1.5px",color:"#050505"},children:"BILL PAYMENT PLANNER"})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[t.size>0&&(0,b.jsx)("button",{onClick:y,disabled:v,style:{background:v?"#f5f5f5":"#C4F000",border:"2px solid #050505",padding:"8px 16px",fontSize:"11px",fontWeight:700,color:"#050505",cursor:v?"not-allowed":"pointer",transition:"all 0.2s",letterSpacing:"0.5px",opacity:v?.6:1},children:v?"PROCESSING...":`PAY ${t.size} BILL${t.size>1?"S":""} (${z(C)})`}),0===p.length&&(0,b.jsx)("button",{onClick:()=>{o(!0),setTimeout(()=>{let b=new Date,c=r;q([...a].sort((a,b)=>{let c=new Date(a.due_date),d=new Date(b.due_date);return c.getTime()-d.getTime()}).map(a=>{let d,e,f=new Date(a.due_date),g=Math.ceil((f.getTime()-b.getTime())/864e5);return g<=3?(d=b,e="high"):g<=7?(d=new Date(b.getTime()+1728e5),e="medium"):(d=new Date(f.getTime()-432e6),e="low"),c-=a.amount,{billId:a.id,billName:a.name,amount:a.amount,dueDate:a.due_date,suggestedPayDate:d.toISOString(),balanceAfterPayment:c,daysUntilDue:g,priority:e}})),o(!1)},2e3)},disabled:n||0===a.length,style:{background:n?"#f5f5f5":"#ffffff",border:"2px solid #050505",padding:"8px 16px",fontSize:"11px",fontWeight:700,color:"#050505",cursor:n||0===a.length?"not-allowed":"pointer",transition:"all 0.2s",letterSpacing:"0.5px",opacity:n||0===a.length?.6:1},children:n?"PREDICTING...":"GENERATE PAYMENT PLAN"})]})]}),(0,b.jsxs)("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",gap:"16px",overflow:"auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",gap:"16px",flexShrink:0},children:[(0,b.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"TOTAL BALANCE"}),(0,b.jsx)("div",{style:{fontSize:"28px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:z(r)}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.8},children:["Across ",j.length," ",1===j.length?"account":"accounts"]})]}),(0,b.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"AFTER BILLS"}),(0,b.jsx)("div",{style:{fontSize:"28px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:z(r-D)}),(0,b.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.8},children:"Remaining balance"})]}),(0,b.jsxs)("div",{style:{flex:1,background:E?"#C4F000":"#DC2626",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:E?"#050505":"#ffffff",marginBottom:"8px",letterSpacing:"0.5px"},children:"TOTAL BILLS DUE"}),(0,b.jsx)("div",{style:{fontSize:"28px",fontWeight:800,color:E?"#050505":"#ffffff",marginBottom:"4px"},children:z(D)}),(0,b.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:E?"#050505":"#ffffff",opacity:E?.8:.9},children:[a.length," pending ",1===a.length?"bill":"bills"]})]})]}),n&&(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,b.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px",borderBottom:"2px solid #f5f5f5"},children:(0,b.jsx)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",letterSpacing:"1px"},children:"GENERATING PAYMENT PLAN..."})}),(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[1,2,3].map(a=>(0,b.jsxs)("div",{style:{background:"#fafafa",border:"2px solid #e5e5e5",padding:"16px",display:"flex",alignItems:"center",gap:"16px",animation:`pulse 1.5s ease-in-out infinite ${.2*a}s`},children:[(0,b.jsx)("div",{style:{width:"40px",height:"40px",background:"#e5e5e5",border:"2px solid #d4d4d4",flexShrink:0}}),(0,b.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},children:[(0,b.jsx)("div",{style:{background:"#e5e5e5",height:"14px",width:"60%"}}),(0,b.jsx)("div",{style:{background:"#e5e5e5",height:"11px",width:"80%"}})]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"6px",flexShrink:0},children:[(0,b.jsx)("div",{style:{background:"#e5e5e5",height:"11px",width:"120px"}}),(0,b.jsx)("div",{style:{background:"#e5e5e5",height:"11px",width:"100px"}})]})]},a))})]}),!n&&p.length>0&&(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px",borderBottom:"2px solid #f5f5f5"},children:[(0,b.jsx)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",letterSpacing:"1px"},children:"RECOMMENDED PAYMENT SCHEDULE"}),(0,b.jsx)("button",{onClick:()=>q([]),style:{background:"#ffffff",border:"2px solid #050505",padding:"6px 12px",fontSize:"10px",fontWeight:700,color:"#050505",cursor:"pointer",letterSpacing:"0.5px"},children:"RESET"})]}),(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:p.map((a,c)=>(0,b.jsxs)("div",{style:{background:"#fafafa",border:"2px solid #050505",padding:"16px",display:"flex",alignItems:"center",gap:"16px"},children:[(0,b.jsx)("div",{style:{width:"40px",height:"40px",background:B(a.priority),border:"2px solid #050505",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:800,color:"low"===a.priority?"#050505":"#ffffff",flexShrink:0},children:c+1}),(0,b.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"6px"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,b.jsx)("div",{style:{fontSize:"14px",fontWeight:700,color:"#050505"},children:a.billName}),(0,b.jsx)("div",{style:{background:B(a.priority),color:"low"===a.priority?"#050505":"#ffffff",padding:"3px 8px",fontSize:"9px",fontWeight:800,letterSpacing:"0.5px",border:"1px solid #050505"},children:(a=>{switch(a){case"high":return"URGENT";case"medium":return"MODERATE";default:return"FLEXIBLE"}})(a.priority)})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"20px",fontSize:"11px",color:"#050505"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{style:{fontWeight:600,opacity:.6},children:"Amount: "}),(0,b.jsx)("span",{style:{fontWeight:800},children:z(a.amount)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{style:{fontWeight:600,opacity:.6},children:"Due: "}),(0,b.jsx)("span",{style:{fontWeight:800},children:A(a.dueDate)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{style:{fontWeight:600,opacity:.6},children:"Days left: "}),(0,b.jsx)("span",{style:{fontWeight:800},children:a.daysUntilDue})]})]})]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"6px",flexShrink:0},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"11px",fontWeight:700,color:"#050505"},children:[(0,b.jsx)(e.Calendar,{size:14,strokeWidth:2.5}),"Pay on ",A(a.suggestedPayDate)]}),(0,b.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:a.balanceAfterPayment>=0?"#050505":"#DC2626"},children:["Balance: ",z(a.balanceAfterPayment)]})]})]},a.billId))}),p.some(a=>a.balanceAfterPayment<0)&&(0,b.jsxs)("div",{style:{background:"#FEF2F2",border:"2px solid #DC2626",padding:"14px",display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[(0,b.jsx)(g,{size:20,color:"#DC2626",strokeWidth:2.5}),(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#DC2626"},children:"WARNING: You may not have sufficient balance for all bills. Consider prioritizing critical payments."})]}),p.every(a=>a.balanceAfterPayment>=0)&&(0,b.jsxs)("div",{style:{background:"#F0FDF4",border:"2px solid #C4F000",padding:"14px",display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[(0,b.jsx)(h,{size:20,color:"#C4F000",strokeWidth:2.5}),(0,b.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505"},children:"Great! You have sufficient balance to pay all bills following this schedule."})]})]}),!n&&0===p.length&&0===a.length&&(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"60px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px"},children:[(0,b.jsx)(h,{size:48,color:"#C4F000",strokeWidth:2.5}),(0,b.jsx)("div",{style:{fontSize:"16px",fontWeight:800,color:"#050505",letterSpacing:"1px"},children:"NO PENDING BILLS"}),(0,b.jsx)("div",{style:{fontSize:"12px",fontWeight:600,color:"#050505",opacity:.6},children:"All your bills are paid up!"})]}),!n&&0===p.length&&a.length>0&&(0,b.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",gap:"12px"},children:[(0,b.jsxs)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",letterSpacing:"1px",marginBottom:"8px"},children:["PENDING BILLS (",a.length,")"]}),a.map(a=>{let c=new Date(a.due_date),d=new Date,e=Math.ceil((c.getTime()-d.getTime())/864e5),f=t.has(a.id);return(0,b.jsxs)("div",{onClick:()=>{var b;let c;return b=a.id,void((c=new Set(t)).has(b)?c.delete(b):c.add(b),u(c))},style:{background:f?"#f0fdf4":"#fafafa",border:f?"2px solid #C4F000":"1px solid #e5e5e5",padding:"14px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,b.jsx)("div",{style:{width:"24px",height:"24px",border:"2px solid #050505",background:f?"#C4F000":"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:f&&(0,b.jsx)(i.Check,{size:16,color:"#050505",strokeWidth:3})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{fontSize:"13px",fontWeight:700,color:"#050505",marginBottom:"4px"},children:a.name}),(0,b.jsxs)("div",{style:{fontSize:"11px",fontWeight:600,color:"#050505",opacity:.6},children:["Due: ",A(a.due_date)," â€¢ ",e," days left"]})]})]}),(0,b.jsx)("div",{style:{fontSize:"16px",fontWeight:800,color:"#050505"},children:z(a.amount)})]},a.id)})]})]}),(0,b.jsx)("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.6; }
        }
      `})]})}a.s(["default",()=>j],36287)}];

//# sourceMappingURL=app_billboard_page_tsx_b7a2baa1._.js.map