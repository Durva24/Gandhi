(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:d,iconNode:a,...c},f)=>(0,t.createElement)("svg",{ref:f,...n,width:i,height:i,stroke:e,strokeWidth:r?24*Number(s)/Number(i):s,className:l("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...a.map(([e,i])=>(0,t.createElement)(e,i)),...Array.isArray(d)?d:[d]])),r=(e,n)=>{let r=(0,t.forwardRef)(({className:r,...o},d)=>(0,t.createElement)(s,{ref:d,iconNode:n,className:l(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...o}));return r.displayName=i(e),r};e.s(["default",()=>r],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},87316,43531,e=>{"use strict";var t=e.i(75254);let i=(0,t.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>i],87316);let l=(0,t.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>l],43531)},84147,e=>{"use strict";var t=e.i(43476),i=e.i(71645),l=e.i(71689),n=e.i(87316),s=e.i(75254);let r=(0,s.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),o=(0,s.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var d=e.i(43531);function a(){let[e,s]=(0,i.useState)([]),[a,c]=(0,i.useState)([]),[f,p]=(0,i.useState)(!0),[x,h]=(0,i.useState)(!1),[g,y]=(0,i.useState)([]),[u,m]=(0,i.useState)(0),[j,b]=(0,i.useState)(new Set),[v,k]=(0,i.useState)(!1);(0,i.useEffect)(()=>{S()},[]);let S=async()=>{try{let[e,t]=await Promise.all([fetch("/api/get/bills"),fetch("/api/get/accounts")]),i=await e.json(),l=await t.json();if(i.success){let e=i.data.filter(e=>"paid"!==e.status);s(e)}if(l.success){c(l.data);let e=l.data.reduce((e,t)=>e+t.balance,0);m(e)}p(!1)}catch(e){console.error("Error fetching data:",e),p(!1)}},w=async()=>{if(0===j.size)return;k(!0);let t=e.filter(e=>j.has(e.id)).reduce((e,t)=>e+t.amount,0);setTimeout(()=>{m(e=>e-t),s(e=>e.filter(e=>!j.has(e.id))),b(new Set),k(!1)},1500)},D=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),C=e=>new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),I=e=>{switch(e){case"high":return"#DC2626";case"medium":return"#F59E0B";default:return"#C4F000"}},W=e.filter(e=>j.has(e.id)).reduce((e,t)=>e+t.amount,0);if(f)return(0,t.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:"12px",borderBottom:"2px solid #050505"},children:[(0,t.jsx)("div",{style:{background:"#C4F000",border:"2px solid #050505",height:"36px",width:"36px",animation:"pulse 1.5s ease-in-out infinite"}}),(0,t.jsx)("div",{style:{background:"#f5f5f5",height:"16px",width:"200px",animation:"pulse 1.5s ease-in-out infinite 0.2s"}})]}),(0,t.jsx)("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:(0,t.jsx)("div",{style:{display:"flex",gap:"16px",height:"120px"},children:[1,2,3].map(e=>(0,t.jsxs)("div",{style:{flex:1,background:1===e?"#C4F000":2===e?"#ffffff":"#f5f5f5",border:"2px solid #050505",padding:"16px",animation:`pulse 1.5s ease-in-out infinite ${.2*e}s`},children:[(0,t.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"12px",width:"80px",marginBottom:"12px"}}),(0,t.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.15)",height:"28px",width:"120px",marginBottom:"8px"}}),(0,t.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"10px",width:"100px"}})]},e))})}),(0,t.jsx)("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
          }
        `})]});let z=e.reduce((e,t)=>e+t.amount,0),E=u>=z;return(0,t.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px solid #050505"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"8px 10px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,t.jsx)(l.ArrowLeft,{size:18,strokeWidth:3})}),(0,t.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"16px",fontWeight:800,letterSpacing:"1.5px",color:"#050505"},children:"BILL PAYMENT PLANNER"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[j.size>0&&(0,t.jsx)("button",{onClick:w,disabled:v,style:{background:v?"#f5f5f5":"#C4F000",border:"2px solid #050505",padding:"8px 16px",fontSize:"11px",fontWeight:700,color:"#050505",cursor:v?"not-allowed":"pointer",transition:"all 0.2s",letterSpacing:"0.5px",opacity:v?.6:1},children:v?"PROCESSING...":`PAY ${j.size} BILL${j.size>1?"S":""} (${D(W)})`}),0===g.length&&(0,t.jsx)("button",{onClick:()=>{h(!0),setTimeout(()=>{let t=new Date,i=u;y([...e].sort((e,t)=>{let i=new Date(e.due_date),l=new Date(t.due_date);return i.getTime()-l.getTime()}).map(e=>{let l,n,s=new Date(e.due_date),r=Math.ceil((s.getTime()-t.getTime())/864e5);return r<=3?(l=t,n="high"):r<=7?(l=new Date(t.getTime()+1728e5),n="medium"):(l=new Date(s.getTime()-432e6),n="low"),i-=e.amount,{billId:e.id,billName:e.name,amount:e.amount,dueDate:e.due_date,suggestedPayDate:l.toISOString(),balanceAfterPayment:i,daysUntilDue:r,priority:n}})),h(!1)},2e3)},disabled:x||0===e.length,style:{background:x?"#f5f5f5":"#ffffff",border:"2px solid #050505",padding:"8px 16px",fontSize:"11px",fontWeight:700,color:"#050505",cursor:x||0===e.length?"not-allowed":"pointer",transition:"all 0.2s",letterSpacing:"0.5px",opacity:x||0===e.length?.6:1},children:x?"PREDICTING...":"GENERATE PAYMENT PLAN"})]})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",gap:"16px",overflow:"auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",flexShrink:0},children:[(0,t.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"TOTAL BALANCE"}),(0,t.jsx)("div",{style:{fontSize:"28px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:D(u)}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.8},children:["Across ",a.length," ",1===a.length?"account":"accounts"]})]}),(0,t.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"AFTER BILLS"}),(0,t.jsx)("div",{style:{fontSize:"28px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:D(u-z)}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.8},children:"Remaining balance"})]}),(0,t.jsxs)("div",{style:{flex:1,background:E?"#C4F000":"#DC2626",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:E?"#050505":"#ffffff",marginBottom:"8px",letterSpacing:"0.5px"},children:"TOTAL BILLS DUE"}),(0,t.jsx)("div",{style:{fontSize:"28px",fontWeight:800,color:E?"#050505":"#ffffff",marginBottom:"4px"},children:D(z)}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:E?"#050505":"#ffffff",opacity:E?.8:.9},children:[e.length," pending ",1===e.length?"bill":"bills"]})]})]}),x&&(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px",borderBottom:"2px solid #f5f5f5"},children:(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",letterSpacing:"1px"},children:"GENERATING PAYMENT PLAN..."})}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[1,2,3].map(e=>(0,t.jsxs)("div",{style:{background:"#fafafa",border:"2px solid #e5e5e5",padding:"16px",display:"flex",alignItems:"center",gap:"16px",animation:`pulse 1.5s ease-in-out infinite ${.2*e}s`},children:[(0,t.jsx)("div",{style:{width:"40px",height:"40px",background:"#e5e5e5",border:"2px solid #d4d4d4",flexShrink:0}}),(0,t.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},children:[(0,t.jsx)("div",{style:{background:"#e5e5e5",height:"14px",width:"60%"}}),(0,t.jsx)("div",{style:{background:"#e5e5e5",height:"11px",width:"80%"}})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"6px",flexShrink:0},children:[(0,t.jsx)("div",{style:{background:"#e5e5e5",height:"11px",width:"120px"}}),(0,t.jsx)("div",{style:{background:"#e5e5e5",height:"11px",width:"100px"}})]})]},e))})]}),!x&&g.length>0&&(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px",borderBottom:"2px solid #f5f5f5"},children:[(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",letterSpacing:"1px"},children:"RECOMMENDED PAYMENT SCHEDULE"}),(0,t.jsx)("button",{onClick:()=>y([]),style:{background:"#ffffff",border:"2px solid #050505",padding:"6px 12px",fontSize:"10px",fontWeight:700,color:"#050505",cursor:"pointer",letterSpacing:"0.5px"},children:"RESET"})]}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:g.map((e,i)=>(0,t.jsxs)("div",{style:{background:"#fafafa",border:"2px solid #050505",padding:"16px",display:"flex",alignItems:"center",gap:"16px"},children:[(0,t.jsx)("div",{style:{width:"40px",height:"40px",background:I(e.priority),border:"2px solid #050505",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:800,color:"low"===e.priority?"#050505":"#ffffff",flexShrink:0},children:i+1}),(0,t.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"6px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:700,color:"#050505"},children:e.billName}),(0,t.jsx)("div",{style:{background:I(e.priority),color:"low"===e.priority?"#050505":"#ffffff",padding:"3px 8px",fontSize:"9px",fontWeight:800,letterSpacing:"0.5px",border:"1px solid #050505"},children:(e=>{switch(e){case"high":return"URGENT";case"medium":return"MODERATE";default:return"FLEXIBLE"}})(e.priority)})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"20px",fontSize:"11px",color:"#050505"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{fontWeight:600,opacity:.6},children:"Amount: "}),(0,t.jsx)("span",{style:{fontWeight:800},children:D(e.amount)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{fontWeight:600,opacity:.6},children:"Due: "}),(0,t.jsx)("span",{style:{fontWeight:800},children:C(e.dueDate)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{fontWeight:600,opacity:.6},children:"Days left: "}),(0,t.jsx)("span",{style:{fontWeight:800},children:e.daysUntilDue})]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"6px",flexShrink:0},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"11px",fontWeight:700,color:"#050505"},children:[(0,t.jsx)(n.Calendar,{size:14,strokeWidth:2.5}),"Pay on ",C(e.suggestedPayDate)]}),(0,t.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:e.balanceAfterPayment>=0?"#050505":"#DC2626"},children:["Balance: ",D(e.balanceAfterPayment)]})]})]},e.billId))}),g.some(e=>e.balanceAfterPayment<0)&&(0,t.jsxs)("div",{style:{background:"#FEF2F2",border:"2px solid #DC2626",padding:"14px",display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[(0,t.jsx)(r,{size:20,color:"#DC2626",strokeWidth:2.5}),(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#DC2626"},children:"WARNING: You may not have sufficient balance for all bills. Consider prioritizing critical payments."})]}),g.every(e=>e.balanceAfterPayment>=0)&&(0,t.jsxs)("div",{style:{background:"#F0FDF4",border:"2px solid #C4F000",padding:"14px",display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[(0,t.jsx)(o,{size:20,color:"#C4F000",strokeWidth:2.5}),(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505"},children:"Great! You have sufficient balance to pay all bills following this schedule."})]})]}),!x&&0===g.length&&0===e.length&&(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"60px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px"},children:[(0,t.jsx)(o,{size:48,color:"#C4F000",strokeWidth:2.5}),(0,t.jsx)("div",{style:{fontSize:"16px",fontWeight:800,color:"#050505",letterSpacing:"1px"},children:"NO PENDING BILLS"}),(0,t.jsx)("div",{style:{fontSize:"12px",fontWeight:600,color:"#050505",opacity:.6},children:"All your bills are paid up!"})]}),!x&&0===g.length&&e.length>0&&(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",gap:"12px"},children:[(0,t.jsxs)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",letterSpacing:"1px",marginBottom:"8px"},children:["PENDING BILLS (",e.length,")"]}),e.map(e=>{let i=new Date(e.due_date),l=new Date,n=Math.ceil((i.getTime()-l.getTime())/864e5),s=j.has(e.id);return(0,t.jsxs)("div",{onClick:()=>{var t;let i;return t=e.id,void((i=new Set(j)).has(t)?i.delete(t):i.add(t),b(i))},style:{background:s?"#f0fdf4":"#fafafa",border:s?"2px solid #C4F000":"1px solid #e5e5e5",padding:"14px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",transition:"all 0.2s"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("div",{style:{width:"24px",height:"24px",border:"2px solid #050505",background:s?"#C4F000":"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s&&(0,t.jsx)(d.Check,{size:16,color:"#050505",strokeWidth:3})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"13px",fontWeight:700,color:"#050505",marginBottom:"4px"},children:e.name}),(0,t.jsxs)("div",{style:{fontSize:"11px",fontWeight:600,color:"#050505",opacity:.6},children:["Due: ",C(e.due_date)," â€¢ ",n," days left"]})]})]}),(0,t.jsx)("div",{style:{fontSize:"16px",fontWeight:800,color:"#050505"},children:D(e.amount)})]},e.id)})]})]}),(0,t.jsx)("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.6; }
        }
      `})]})}e.s(["default",()=>a],84147)}]);