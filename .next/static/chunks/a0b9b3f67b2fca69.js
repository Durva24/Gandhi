(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:s="",children:a,iconNode:d,...p},f)=>(0,t.createElement)("svg",{ref:f,...r,width:i,height:i,stroke:e,strokeWidth:o?24*Number(n)/Number(i):n,className:l("lucide",s),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"},...p},[...d.map(([e,i])=>(0,t.createElement)(e,i)),...Array.isArray(a)?a:[a]])),o=(e,r)=>{let o=(0,t.forwardRef)(({className:o,...s},a)=>(0,t.createElement)(n,{ref:a,iconNode:r,className:l(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,o),...s}));return o.displayName=i(e),o};e.s(["default",()=>o],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},84715,e=>{"use strict";var t=e.i(43476),i=e.i(71645),l=e.i(71689);let r=({investment:e})=>{let l=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t=l.current;if(!t)return;let i=t.getContext("2d");if(!i)return;let r=parseFloat(e.profit_loss)>=0,n=[],o=e.buy_price,s=e.current_price;for(let e=0;e<20;e++){let t=o+e/19*(s-o),i=.1*o*(Math.random()-.5);n.push(t+i)}let a=Math.max(...n),d=Math.min(...n),p=a-d||1;i.clearRect(0,0,t.width,t.height),i.beginPath(),i.strokeStyle=r?"#7DA600":"#DC2626",i.lineWidth=2,i.lineJoin="round",n.forEach((e,l)=>{let r=l/19*t.width,n=t.height-(e-d)/p*(t.height-10)-5;0===l?i.moveTo(r,n):i.lineTo(r,n)}),i.stroke(),i.lineTo(t.width,t.height),i.lineTo(0,t.height),i.closePath(),i.fillStyle=r?"rgba(125, 166, 0, 0.15)":"rgba(220, 38, 38, 0.15)",i.fill()},[e]),(0,t.jsx)("canvas",{ref:l,width:110,height:30})};function n(){let[e,n]=(0,i.useState)(null),[o,s]=(0,i.useState)(!0),[a,d]=(0,i.useState)("all"),p=(0,i.useRef)(null);(0,i.useEffect)(()=>{f()},[]),(0,i.useEffect)(()=>{e&&p.current&&c()},[e,a]);let f=async()=>{try{let e=await fetch("/api/get/portfolio"),t=await e.json();t.success&&n(t),s(!1)}catch(e){console.error("Error fetching portfolio:",e),s(!1)}},c=()=>{let t=p.current;if(!t||!e)return;let i=t.getContext("2d");if(!i)return;let l={};e.data.forEach(e=>{let t=parseFloat(e.current_value);l[e.type]=(l[e.type]||0)+t});let r=Object.values(l).reduce((e,t)=>e+t,0),n={stock:"#C4F000",mf:"#9BC400",gold:"#7DA600",crypto:"#5E8800"},o=t.width/2,s=t.height/2,a=Math.min(o,s)-5;i.clearRect(0,0,t.width,t.height);let d=-Math.PI/2;Object.entries(l).forEach(([e,t])=>{let l=t/r*2*Math.PI;i.beginPath(),i.moveTo(o,s),i.arc(o,s,a,d,d+l),i.closePath(),i.fillStyle=n[e],i.fill(),d+=l}),i.beginPath(),i.arc(o,s,.55*a,0,2*Math.PI),i.fillStyle="#ffffff",i.fill()},x=e=>{let t="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t)},h=e=>{let t="string"==typeof e?parseFloat(e):e;return`â‚¹${(t/1e3).toFixed(1)}k`},g=e=>({stock:"#C4F000",mf:"#9BC400",gold:"#7DA600",crypto:"#5E8800"})[e]||"#C4F000";if(o)return(0,t.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:"12px",borderBottom:"2px solid #050505"},children:[(0,t.jsx)("div",{style:{background:"#C4F000",border:"2px solid #050505",height:"36px",width:"36px",animation:"pulse 1.5s ease-in-out infinite"}}),(0,t.jsx)("div",{style:{background:"#f5f5f5",height:"16px",width:"200px",animation:"pulse 1.5s ease-in-out infinite"}})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"16px 20px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,t.jsx)("div",{style:{display:"flex",gap:"16px",height:"100px"},children:[1,2,3].map(e=>(0,t.jsx)("div",{style:{flex:1,background:"#f5f5f5",border:"2px solid #050505",animation:`pulse 1.5s ease-in-out infinite ${.1*e}s`}},e))}),(0,t.jsx)("div",{style:{flex:1,background:"#f5f5f5",border:"2px solid #050505",animation:"pulse 1.5s ease-in-out infinite 0.3s"}})]}),(0,t.jsx)("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
          }
        `})]});if(!e)return null;let{summary:u}=e,y=parseFloat(u.totalProfitLoss),m=parseFloat(u.totalProfitLossPercentage),j=e?"all"===a?e.data:e.data.filter(e=>e.type===a):[],v=(()=>{if(!e)return{};let t={};return e.data.forEach(e=>{let i=parseFloat(e.current_value);t[e.type]=(t[e.type]||0)+i}),t})(),b=Object.values(v).reduce((e,t)=>e+t,0),S={stock:"Stocks",mf:"Mutual Funds",gold:"Gold",crypto:"Crypto"};return(0,t.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px solid #050505"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"8px 10px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,t.jsx)(l.ArrowLeft,{size:18,strokeWidth:3})}),(0,t.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"16px",fontWeight:800,letterSpacing:"1.5px",color:"#050505"},children:"PORTFOLIO"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[(0,t.jsx)("button",{onClick:()=>d("all"),style:{background:"all"===a?"#C4F000":"#ffffff",border:"2px solid #050505",padding:"6px 10px",fontSize:"9px",fontWeight:700,color:"#050505",cursor:"pointer",transition:"all 0.2s",letterSpacing:"0.5px"},children:"ALL"}),Object.keys(v).map(e=>(0,t.jsx)("button",{onClick:()=>d(e),style:{background:a===e?g(e):"#ffffff",border:"2px solid #050505",padding:"6px 10px",fontSize:"9px",fontWeight:700,color:"#050505",cursor:"pointer",transition:"all 0.2s",letterSpacing:"0.5px"},children:e.toUpperCase()},e))]})]}),(0,t.jsxs)("div",{style:{padding:"16px 20px",display:"flex",gap:"16px",borderBottom:"2px solid #050505"},children:[(0,t.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"12px 16px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",marginBottom:"4px",letterSpacing:"0.5px"},children:"TOTAL INVESTED"}),(0,t.jsx)("div",{style:{fontSize:"20px",fontWeight:800,color:"#050505"},children:x(u.totalInvested)})]}),(0,t.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"12px 16px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",marginBottom:"4px",letterSpacing:"0.5px"},children:"CURRENT VALUE"}),(0,t.jsx)("div",{style:{fontSize:"20px",fontWeight:800,color:"#050505"},children:x(u.totalCurrentValue)})]}),(0,t.jsxs)("div",{style:{flex:1,background:y>=0?"#9BC400":"#DC2626",border:"2px solid #050505",padding:"12px 16px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:y>=0?"#050505":"#ffffff",marginBottom:"4px",letterSpacing:"0.5px"},children:"PROFIT & LOSS"}),(0,t.jsxs)("div",{style:{fontSize:"20px",fontWeight:800,color:y>=0?"#050505":"#ffffff"},children:[y>=0?"+":"",x(y)]})]}),(0,t.jsxs)("div",{style:{flex:1,background:y>=0?"#7DA600":"#991B1B",border:"2px solid #050505",padding:"12px 16px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#ffffff",marginBottom:"4px",letterSpacing:"0.5px"},children:"TOTAL RETURN"}),(0,t.jsxs)("div",{style:{fontSize:"20px",fontWeight:800,color:"#ffffff"},children:[m>=0?"+":"",m.toFixed(2),"%"]})]})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"16px 20px",display:"flex",gap:"20px",overflow:"hidden"},children:[(0,t.jsx)("div",{style:{flex:1,overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"10px",alignContent:"start"},children:0===j.length?(0,t.jsxs)("div",{style:{gridColumn:"1 / -1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"300px",gap:"12px"},children:[(0,t.jsx)("div",{style:{fontSize:"48px",opacity:.2},children:"ðŸ“ˆ"}),(0,t.jsx)("div",{style:{fontSize:"13px",fontWeight:700,color:"#050505",opacity:.5},children:"NO INVESTMENTS FOUND"})]}):j.map(e=>{let i=parseFloat(e.profit_loss),l=parseFloat(e.profit_loss_percentage),n=i>=0;return(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"10px",display:"flex",flexDirection:"column",gap:"6px",position:"relative",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="4px 4px 0px #050505"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,t.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",background:g(e.type),border:"1px solid #050505",padding:"2px 6px",fontSize:"7px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"},children:e.type}),(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",paddingRight:"50px",marginBottom:"2px"},children:e.asset_name}),(0,t.jsxs)("div",{style:{display:"flex",gap:"6px",fontSize:"8px",fontWeight:700,color:"#050505",opacity:.6},children:[(0,t.jsx)("span",{children:e.platform}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:["QTY: ",e.quantity]})]}),(0,t.jsx)("div",{style:{margin:"2px 0"},children:(0,t.jsx)(r,{investment:e})}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px",paddingBottom:"6px",borderBottom:"1px solid #e5e5e5"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"7px",fontWeight:700,color:"#050505",opacity:.5,marginBottom:"2px"},children:"BUY"}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:800,color:"#050505"},children:["â‚¹",e.buy_price.toLocaleString()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"7px",fontWeight:700,color:"#050505",opacity:.5,marginBottom:"2px"},children:"NOW"}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:800,color:"#050505"},children:["â‚¹",e.current_price.toLocaleString()]})]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"7px",fontWeight:700,color:"#050505",opacity:.5,marginBottom:"2px"},children:"INVESTED"}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:800,color:"#050505"},children:h(e.total_investment)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"7px",fontWeight:700,color:"#050505",opacity:.5,marginBottom:"2px"},children:"VALUE"}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:800,color:"#050505"},children:h(e.current_value)})]})]}),(0,t.jsxs)("div",{style:{background:n?"#C4F000":"#FEE2E2",border:"1px solid #050505",padding:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2px"},children:[(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:800,color:n?"#050505":"#DC2626"},children:[n?"+":"",h(e.profit_loss)]}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:800,color:n?"#050505":"#DC2626"},children:[n?"+":"",l.toFixed(2),"%"]})]})]},e.id)})}),(0,t.jsxs)("div",{style:{width:"300px",background:"#ffffff",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:800,color:"#050505",letterSpacing:"1px"},children:"ASSET DISTRIBUTION"}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,t.jsx)("canvas",{ref:p,width:200,height:200})}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries(v).map(([e,i])=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px",background:a===e?"#f5f5f5":"transparent",border:a===e?"1px solid #050505":"1px solid transparent",cursor:"pointer",transition:"all 0.2s"},onClick:()=>d(e),onMouseEnter:t=>{a!==e&&(t.currentTarget.style.background="#fafafa")},onMouseLeave:t=>{a!==e&&(t.currentTarget.style.background="transparent")},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("div",{style:{width:"14px",height:"14px",background:g(e),border:"1px solid #050505"}}),(0,t.jsx)("span",{style:{fontSize:"11px",fontWeight:700,color:"#050505",textTransform:"uppercase",letterSpacing:"0.3px"},children:S[e]})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,t.jsxs)("span",{style:{fontSize:"11px",fontWeight:800,color:"#050505"},children:[(i/b*100).toFixed(1),"%"]}),(0,t.jsx)("span",{style:{fontSize:"9px",fontWeight:600,color:"#050505",opacity:.5},children:h(i)})]})]},e))})]})]})]})}e.s(["default",()=>n])}]);