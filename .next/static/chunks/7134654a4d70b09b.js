(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:d,...c},p)=>(0,t.createElement)("svg",{ref:p,...r,width:i,height:i,stroke:e,strokeWidth:a?24*Number(s)/Number(i):s,className:n("lucide",o),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,i])=>(0,t.createElement)(e,i)),...Array.isArray(l)?l:[l]])),a=(e,r)=>{let a=(0,t.forwardRef)(({className:a,...o},l)=>(0,t.createElement)(s,{ref:l,iconNode:r,className:n(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...o}));return a.displayName=i(e),a};e.s(["default",()=>a],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},45239,e=>{"use strict";var t=e.i(43476),i=e.i(71645),n=e.i(71689),r=e.i(25652);function s(){let[e,s]=(0,i.useState)([]),[a,o]=(0,i.useState)(!0),[l,d]=(0,i.useState)(!1),[c,p]=(0,i.useState)(!1),[x,f]=(0,i.useState)(null),[h,g]=(0,i.useState)([]);(0,i.useEffect)(()=>{m()},[]);let m=async()=>{try{await new Promise(e=>setTimeout(e,800));let e=await fetch("/api/get/transactions?type=credit"),t=await e.json();if(t.success&&t.data&&t.data.length>0){let e=t.data.filter(e=>"credit"===e.type);s(e),o(!1),await new Promise(e=>setTimeout(e,400)),d(!0),await new Promise(e=>setTimeout(e,2e3));let i=e.map(e=>({date:new Date(e.date),amount:parseFloat(e.amount.toString())})).sort((e,t)=>e.date.getTime()-t.date.getTime()),n=[];for(let e=1;e<i.length;e++){let t=(i[e].date.getTime()-i[e-1].date.getTime())/864e5;n.push(t)}let r=i.map(e=>e.amount),a=r.map((e,t)=>t),l=a.length,c=a.reduce((e,t)=>e+t,0),x=r.reduce((e,t)=>e+t,0),h=a.reduce((e,t,i)=>e+t*r[i],0),m=a.reduce((e,t)=>e+t*t,0),u=(l*h-c*x)/(l*m-c*c),y=(x-u*c)/l,j=Math.max(0,u*r.length+y),b=n.reduce((e,t)=>e+t,0)/n.length,v=i[i.length-1].date,k=new Date(v.getTime()+24*b*36e5),C=new Date,w=Math.ceil((k.getTime()-C.getTime())/864e5),A=r.reduce((e,t,i)=>e+Math.pow(t-(u*i+y),2),0)/r.length,S=Math.max(0,Math.min(100,100-Math.sqrt(A)/(x/l)*50));f({amount:j,daysUntil:Math.max(0,w),date:k,confidence:S});let z=i.slice(-8),W=[...r.slice(-8),j],T=Math.min(...W),M=Math.max(...W)-T||1,N=z.map((e,t)=>({x:t,y:240-(e.amount-T)/M*190,amount:e.amount,date:e.date}));N.push({x:N.length,y:240-(j-T)/M*190,amount:j,date:k,isPrediction:!0}),g(N),d(!1),await new Promise(e=>setTimeout(e,600)),p(!0)}else o(!1)}catch(e){console.error("Error fetching data:",e),o(!1),d(!1)}},u=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);if(a)return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,t.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",height:"44px",width:"44px"}}),(0,t.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",height:"20px",width:"200px",border:"2px solid #050505"}})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[(0,t.jsx)("div",{style:{background:"linear-gradient(90deg, #C4F000 25%, #d4ff30 50%, #C4F000 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",padding:"20px",height:"140px"}}),(0,t.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",padding:"20px",height:"140px"}}),(0,t.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",padding:"20px",height:"140px"}})]}),(0,t.jsx)("div",{style:{background:"linear-gradient(90deg, #e0e0e0 25%, #f0f0f0 50%, #e0e0e0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",border:"2px solid #050505",padding:"24px",flex:1,minHeight:"400px"}})]}),(0,t.jsx)("style",{children:`
          @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
          }
        `})]});if(!x||0===h.length)return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px"},children:[(0,t.jsx)("div",{style:{fontSize:"16px",fontWeight:700,color:"#050505",marginBottom:"8px"},children:"NO DATA AVAILABLE"}),(0,t.jsx)("div",{style:{fontSize:"12px",fontWeight:600,color:"#050505",opacity:.5},children:"Not enough income transactions to generate forecast"})]});let y=e.reduce((e,t)=>e+t.amount,0)/e.length,j=(x.amount-y)/y*100,b=h.filter(e=>!e.isPrediction),v=h.slice(-2);return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,t.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"10px 12px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,t.jsx)(n.ArrowLeft,{size:20,strokeWidth:3})}),(0,t.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"20px",fontWeight:800,letterSpacing:"1.5px",color:"#050505",lineHeight:"44px"},children:"INCOME FORECAST"})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[(0,t.jsxs)("div",{style:{background:l?"linear-gradient(90deg, #C4F000 25%, #d4ff30 50%, #C4F000 75%)":"#C4F000",backgroundSize:"200% 100%",animation:l?"shimmer 1.5s infinite":"none",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between",transition:"background 0.3s"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,t.jsx)(r.TrendingUp,{size:14,strokeWidth:3}),(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",letterSpacing:"0.5px"},children:l?"CALCULATING...":"PREDICTED INCOME"})]}),(0,t.jsx)("div",{style:{fontSize:"36px",fontWeight:800,color:"#050505",lineHeight:1,opacity:l?.3:1,transition:"opacity 0.3s"},children:u(x.amount)}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:l?.3:.7,marginTop:"12px",transition:"opacity 0.3s"},children:["Expected in ",x.daysUntil," ",1===x.daysUntil?"day":"days"]})]}),(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"CONFIDENCE LEVEL"}),(0,t.jsxs)("div",{style:{fontSize:"36px",fontWeight:800,color:x.confidence>=70?"#16A34A":x.confidence>=50?"#CA8A04":"#DC2626",lineHeight:1,opacity:l?.3:1,transition:"opacity 0.3s"},children:[x.confidence.toFixed(0),"%"]}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:"Prediction accuracy"}),(0,t.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505",position:"relative",overflow:"hidden"},children:(0,t.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:l?"0%":`${x.confidence}%`,background:x.confidence>=70?"#16A34A":x.confidence>=50?"#CA8A04":"#DC2626",transition:"width 0.8s ease"}})})]}),(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"GROWTH TREND"}),(0,t.jsxs)("div",{style:{fontSize:"36px",fontWeight:800,color:j>=0?"#16A34A":"#DC2626",lineHeight:1,opacity:l?.3:1,transition:"opacity 0.3s"},children:[j>=0?"+":"",j.toFixed(1),"%"]}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:"vs average income"}),(0,t.jsxs)("div",{style:{marginTop:"12px",fontSize:"10px",fontWeight:600,color:"#050505",opacity:.7},children:["Avg: ",u(y)]})]})]}),(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"24px",height:"420px",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",letterSpacing:"0.5px"},children:"INCOME PREDICTION CURVE"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)("div",{style:{width:"16px",height:"3px",background:"#16A34A",border:"1px solid #050505"}}),(0,t.jsx)("span",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.6},children:"Historical"})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)("div",{style:{width:"16px",height:"3px",background:"#84CC16",border:"1px solid #050505",borderStyle:"dashed"}}),(0,t.jsx)("span",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.6},children:"Predicted"})]})]})]}),(0,t.jsx)("div",{style:{flex:1,position:"relative"},children:(0,t.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 1000 280",preserveAspectRatio:"none",children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",style:{stopColor:"#16A34A",stopOpacity:.3}}),(0,t.jsx)("stop",{offset:"100%",style:{stopColor:"#16A34A",stopOpacity:.05}})]}),(0,t.jsxs)("linearGradient",{id:"predictionGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",style:{stopColor:"#84CC16",stopOpacity:.3}}),(0,t.jsx)("stop",{offset:"100%",style:{stopColor:"#84CC16",stopOpacity:.05}})]})]}),b.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("path",{d:`M 60 240 ${b.map(e=>{let t=60+e.x/(h.length-1)*880,i=Math.max(30,Math.min(240,e.y));return`L ${t} ${i}`}).join(" ")} L ${60+b[b.length-1].x/(h.length-1)*880} 240 Z`,fill:"url(#areaGradient)"}),(0,t.jsx)("path",{d:b.map((e,t)=>{let i=60+e.x/(h.length-1)*880,n=Math.max(30,Math.min(240,e.y));return`${0===t?"M":"L"} ${i} ${n}`}).join(" "),fill:"none",stroke:"#16A34A",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),b.map((e,i)=>{let n=60+e.x/(h.length-1)*880,r=Math.max(30,Math.min(240,e.y));return(0,t.jsx)("g",{children:(0,t.jsx)("circle",{cx:n,cy:r,r:"5",fill:"#16A34A",stroke:"#050505",strokeWidth:"2"})},i)})]}),v.length>1&&c&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("path",{d:`${v.map((e,t)=>{let i=60+e.x/(h.length-1)*880,n=Math.max(30,Math.min(240,e.y));return`${0===t?"M":"L"} ${i} ${n}`}).join(" ")} L ${60+v[v.length-1].x/(h.length-1)*880} 240 L ${60+v[0].x/(h.length-1)*880} 240 Z`,fill:"url(#predictionGradient)",opacity:"0",children:(0,t.jsx)("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.8s",fill:"freeze"})}),(0,t.jsx)("path",{d:v.map((e,t)=>{let i=60+e.x/(h.length-1)*880,n=Math.max(30,Math.min(240,e.y));return`${0===t?"M":"L"} ${i} ${n}`}).join(" "),fill:"none",stroke:"#84CC16",strokeWidth:"3",strokeDasharray:"8,6",strokeLinecap:"round",strokeLinejoin:"round",strokeDashoffset:"1000",children:(0,t.jsx)("animate",{attributeName:"stroke-dashoffset",from:"1000",to:"0",dur:"1s",fill:"freeze"})}),v.map((e,i)=>{if(!e.isPrediction)return null;let n=60+e.x/(h.length-1)*880,r=Math.max(30,Math.min(240,e.y));return(0,t.jsxs)("g",{opacity:"0",children:[(0,t.jsx)("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.5s",begin:"0.8s",fill:"freeze"}),(0,t.jsx)("circle",{cx:n,cy:r,r:"7",fill:"#84CC16",stroke:"#050505",strokeWidth:"2",children:(0,t.jsx)("animate",{attributeName:"r",values:"7;10;7",dur:"2s",repeatCount:"indefinite",begin:"1s"})}),(0,t.jsxs)("circle",{cx:n,cy:r,r:"7",fill:"none",stroke:"#84CC16",strokeWidth:"2",opacity:"0.3",children:[(0,t.jsx)("animate",{attributeName:"r",values:"7;16;7",dur:"2s",repeatCount:"indefinite",begin:"1s"}),(0,t.jsx)("animate",{attributeName:"opacity",values:"0.3;0;0.3",dur:"2s",repeatCount:"indefinite",begin:"1s"})]}),(0,t.jsx)("text",{x:n,y:r-20,textAnchor:"middle",fontSize:"11",fontWeight:"700",fill:"#84CC16",children:u(e.amount)})]},i)})]}),h.map((e,i)=>{let n=60+e.x/(h.length-1)*880;return(0,t.jsx)("g",{children:(0,t.jsx)("text",{x:n,y:"265",textAnchor:"middle",fontSize:"10",fontWeight:"600",fill:"#050505",opacity:"0.5",children:e.date.toLocaleDateString("en-IN",{day:"numeric",month:"short"})})},i)}),l&&(0,t.jsxs)("g",{children:[(0,t.jsx)("text",{x:"500",y:"130",textAnchor:"middle",fontSize:"14",fontWeight:"700",fill:"#050505",opacity:"0.6",children:"Analyzing patterns and predicting future income..."}),(0,t.jsxs)("circle",{cx:"500",cy:"160",r:"20",fill:"none",stroke:"#050505",strokeWidth:"2",opacity:"0.3",children:[(0,t.jsx)("animate",{attributeName:"r",values:"20;30;20",dur:"1.5s",repeatCount:"indefinite"}),(0,t.jsx)("animate",{attributeName:"opacity",values:"0.3;0;0.3",dur:"1.5s",repeatCount:"indefinite"})]}),(0,t.jsxs)("circle",{cx:"500",cy:"160",r:"15",fill:"none",stroke:"#050505",strokeWidth:"2",opacity:"0.5",children:[(0,t.jsx)("animate",{attributeName:"r",values:"15;25;15",dur:"1.5s",repeatCount:"indefinite"}),(0,t.jsx)("animate",{attributeName:"opacity",values:"0.5;0;0.5",dur:"1.5s",repeatCount:"indefinite"})]})]})]})})]})]}),(0,t.jsx)("style",{children:`
        @keyframes shimmer {
          0% { background-position: 200% 0; }
          100% { background-position: -200% 0; }
        }
      `})]})}e.s(["default",()=>s])}]);