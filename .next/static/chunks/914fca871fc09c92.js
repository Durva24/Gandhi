(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:s="",children:d,iconNode:a,...p},x)=>(0,t.createElement)("svg",{ref:x,...r,width:i,height:i,stroke:e,strokeWidth:o?24*Number(n)/Number(i):n,className:l("lucide",s),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"},...p},[...a.map(([e,i])=>(0,t.createElement)(e,i)),...Array.isArray(d)?d:[d]])),o=(e,r)=>{let o=(0,t.forwardRef)(({className:o,...s},d)=>(0,t.createElement)(n,{ref:d,iconNode:r,className:l(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,o),...s}));return o.displayName=i(e),o};e.s(["default",()=>o],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},35408,e=>{"use strict";let t=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["TrendingDown",()=>t],35408)},57229,e=>{"use strict";var t=e.i(43476),i=e.i(71645),l=e.i(71689),r=e.i(25652),n=e.i(35408);function o(){let e,o,s,[d,a]=(0,i.useState)([]),[p,x]=(0,i.useState)(!0),[c,f]=(0,i.useState)("current");(0,i.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await fetch("/api/get/transactions"),t=await e.json();t.success&&a(t.data),x(!1)}catch(e){console.error("Error fetching data:",e),x(!1)}},g=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),y=e=>{let t=new Date;return t.setMonth(t.getMonth()-e),t.toLocaleString("en-US",{month:"short"})},u=e=>{switch(e){case"current":return y(0);case"last":return y(1);case"twoMonths":return y(2);case"threeMonths":return y(3)}},m=e=>{let t=new Date,i=new Date(t.getFullYear(),t.getMonth()-e,1),l=new Date(t.getFullYear(),t.getMonth()-e+1,0);return d.filter(e=>{let t=new Date(e.date);return t>=i&&t<=l})},v=()=>{switch(c){case"current":return m(0);case"last":return m(1);case"twoMonths":return m(2);case"threeMonths":return m(3)}};if(p)return(0,t.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"20px",display:"flex",alignItems:"center",gap:"16px"},children:[(0,t.jsx)("div",{style:{background:"#f5f5f5",border:"2px solid #050505",padding:"10px 12px",height:"40px",width:"40px"}}),(0,t.jsx)("div",{style:{background:"#f5f5f5",height:"18px",width:"120px"}})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"0 20px 20px 20px",display:"flex",flexDirection:"column",gap:"12px",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",height:"48%"},children:[(0,t.jsx)("div",{style:{flex:1,background:"#f5f5f5",border:"2px solid #050505"}}),(0,t.jsx)("div",{style:{width:"200px",background:"#f5f5f5",border:"2px solid #050505"}})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",height:"48%"},children:[(0,t.jsx)("div",{style:{flex:1,background:"#f5f5f5",border:"2px solid #050505"}}),(0,t.jsx)("div",{style:{width:"200px",background:"#f5f5f5",border:"2px solid #050505"}})]})]})]});let j=v(),w=j.filter(e=>"credit"===e.type).reduce((e,t)=>e+t.amount,0),S=j.filter(e=>"debit"===e.type).reduce((e,t)=>e+t.amount,0),b=w-S,C=(e=new Map,v().filter(e=>"debit"===e.type).forEach(t=>{let i=t.categories?.name||"Other";e.set(i,(e.get(i)||0)+t.amount)}),o=Array.from(e.values()).reduce((e,t)=>e+t,0),s=["#C4F000","#A8CC00","#8CAA00","#708800","#546600","#3D4D00"],Array.from(e.entries()).map(([e,t],i)=>({name:e,amount:t,percentage:o>0?t/o*100:0,color:s[i%s.length]})).sort((e,t)=>t.amount-e.amount)),W=(()=>{let e=[];for(let t=3;t>=0;t--){let i=m(t),l=i.filter(e=>"credit"===e.type).reduce((e,t)=>e+t.amount,0),r=i.filter(e=>"debit"===e.type).reduce((e,t)=>e+t.amount,0);e.push({label:y(t),income:l,expense:r,net:l-r})}return e})(),k=["current","last","twoMonths","threeMonths"];return(0,t.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"24px 20px",display:"flex",alignItems:"center",gap:"16px",borderBottom:"2px solid #050505"},children:[(0,t.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"8px 10px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,t.jsx)(l.ArrowLeft,{size:20,strokeWidth:3})}),(0,t.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"18px",fontWeight:800,letterSpacing:"1.5px",color:"#050505",lineHeight:"40px"},children:"INCOME VS EXPENSE"})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",gap:"16px",overflow:"hidden",minHeight:0},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",height:"50%",minHeight:0},children:[(0,t.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",minWidth:0,overflow:"hidden"},children:[(0,t.jsx)("div",{style:{fontSize:"13px",fontWeight:700,color:"#050505",letterSpacing:"1px",marginBottom:"16px"},children:"INCOME VS EXPENSE (LAST 4 MONTHS)"}),(0,t.jsx)("div",{style:{flex:1,display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",minHeight:0},children:W.map((e,i)=>{let l=e.net>=0;return(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"14px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.5,marginBottom:"10px"},children:e.label.toUpperCase()}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px"},children:[(0,t.jsx)(r.TrendingUp,{size:14,strokeWidth:3,color:"#C4F000"}),(0,t.jsx)("div",{style:{fontSize:"13px",fontWeight:700,color:"#050505"},children:g(e.income)})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)(n.TrendingDown,{size:14,strokeWidth:3,color:"#DC2626"}),(0,t.jsx)("div",{style:{fontSize:"13px",fontWeight:700,color:"#050505"},children:g(e.expense)})]})]}),(0,t.jsxs)("div",{style:{marginTop:"14px",paddingTop:"14px",borderTop:"1px solid #e5e5e5"},children:[(0,t.jsx)("div",{style:{fontSize:"9px",fontWeight:700,color:"#050505",opacity:.5,marginBottom:"6px"},children:l?"SURPLUS":"DEFICIT"}),(0,t.jsx)("div",{style:{fontSize:"18px",fontWeight:800,color:l?"#050505":"#DC2626"},children:g(Math.abs(e.net))})]})]},i)})})]}),(0,t.jsx)("div",{style:{width:"220px",display:"flex",flexDirection:"column",gap:"16px"},children:k.slice(0,2).map(e=>{let i=c===e,l="current"===e?m(0):"last"===e?m(1):"twoMonths"===e?m(2):m(3),r=l.filter(e=>"credit"===e.type).reduce((e,t)=>e+t.amount,0)-l.filter(e=>"debit"===e.type).reduce((e,t)=>e+t.amount,0);return(0,t.jsxs)("button",{onClick:()=>f(e),style:{flex:1,background:i?"#C4F000":"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",justifyContent:"center",cursor:"pointer",textAlign:"left",transition:"all 0.2s",minHeight:0},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"10px",letterSpacing:"0.5px"},children:u(e).toUpperCase()}),(0,t.jsx)("div",{style:{fontSize:"26px",fontWeight:800,color:r>=0?"#050505":"#DC2626",lineHeight:1.1},children:g(Math.abs(r))}),(0,t.jsx)("div",{style:{fontSize:"9px",fontWeight:600,color:"#050505",opacity:.6,marginTop:"10px"},children:r>=0?"SURPLUS":"DEFICIT"})]},e)})})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",height:"50%",minHeight:0},children:[(0,t.jsxs)("div",{style:{flex:1,display:"flex",gap:"16px",minWidth:0,overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",minWidth:0,overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"14px",flexWrap:"wrap",gap:"10px"},children:[(0,t.jsxs)("div",{style:{fontSize:"13px",fontWeight:700,color:"#050505",letterSpacing:"0.5px"},children:[u(c).toUpperCase()," - CATEGORY BREAKDOWN"]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"8px",fontWeight:700,color:"#050505",opacity:.5},children:"INCOME"}),(0,t.jsx)("div",{style:{fontSize:"13px",fontWeight:800,color:"#C4F000"},children:g(w)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"8px",fontWeight:700,color:"#050505",opacity:.5},children:"EXPENSE"}),(0,t.jsx)("div",{style:{fontSize:"13px",fontWeight:800,color:"#050505"},children:g(S)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontSize:"8px",fontWeight:700,color:"#050505",opacity:.5},children:"NET"}),(0,t.jsx)("div",{style:{fontSize:"13px",fontWeight:800,color:b>=0?"#C4F000":"#DC2626"},children:g(Math.abs(b))})]})]})]}),(0,t.jsxs)("div",{style:{flex:1,display:"flex",gap:"20px",alignItems:"center",minHeight:0},children:[(0,t.jsx)("div",{style:{flex:"0 0 auto",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("div",{style:{position:"relative",width:"130px",height:"130px"},children:[(0,t.jsxs)("svg",{width:"130",height:"130",style:{transform:"rotate(-90deg)"},children:[(0,t.jsx)("defs",{children:C.map((e,i)=>(0,t.jsxs)("linearGradient",{id:`grad${i}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",style:{stopColor:e.color,stopOpacity:1}}),(0,t.jsx)("stop",{offset:"100%",style:{stopColor:e.color,stopOpacity:.8}})]},i))}),C.map((e,i)=>{let l=0;C.slice(0,i).forEach(e=>{l+=e.percentage/100*360});let r=e.percentage/100*360,n=65+55*Math.cos(l*Math.PI/180),o=65+55*Math.sin(l*Math.PI/180),s=65+55*Math.cos((l+r)*Math.PI/180),d=65+55*Math.sin((l+r)*Math.PI/180);return(0,t.jsx)("path",{d:`M 65 65 L ${n} ${o} A 55 55 0 ${+(r>180)} 1 ${s} ${d} Z`,fill:`url(#grad${i})`},i)}),(0,t.jsx)("circle",{cx:"65",cy:"65",r:"38",fill:"#ffffff"})]}),(0,t.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"8px",fontWeight:700,color:"#050505",opacity:.5},children:"TOTAL"}),(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",marginTop:"4px"},children:g(S)})]})]})}),(0,t.jsx)("div",{style:{flex:1,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",overflowY:"auto",maxHeight:"100%",paddingRight:"8px"},children:C.map((e,i)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,t.jsx)("div",{style:{width:"12px",height:"12px",background:e.color,flexShrink:0,marginTop:"2px"}}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,t.jsx)("div",{style:{fontSize:"9px",fontWeight:600,color:"#050505",opacity:.5},children:g(e.amount)})]}),(0,t.jsxs)("div",{style:{fontSize:"11px",fontWeight:800,color:"#050505",flexShrink:0},children:[e.percentage.toFixed(0),"%"]})]},i))})]})]}),(0,t.jsxs)("div",{style:{width:"300px",background:"#ffffff",border:"2px solid #050505",padding:"14px",display:"flex",flexDirection:"column",minWidth:0,overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",letterSpacing:"0.5px",marginBottom:"10px"},children:["TOP SPENDING CATEGORIES - ",u(c).toUpperCase()]}),(0,t.jsx)("div",{style:{flex:1,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",overflowY:"auto",alignContent:"start"},children:C.slice(0,4).map((e,i)=>(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"10px",display:"flex",flexDirection:"column",gap:"4px",height:"fit-content"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{width:"10px",height:"10px",background:e.color,flexShrink:0}}),(0,t.jsxs)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505"},children:[e.percentage.toFixed(0),"%"]})]}),(0,t.jsx)("div",{style:{fontSize:"9px",fontWeight:700,color:"#050505",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,t.jsx)("div",{style:{fontSize:"12px",fontWeight:800,color:"#050505"},children:g(e.amount)})]},i))})]})]}),(0,t.jsx)("div",{style:{width:"220px",display:"flex",flexDirection:"column",gap:"16px"},children:k.slice(2,4).map(e=>{let i=c===e,l="current"===e?m(0):"last"===e?m(1):"twoMonths"===e?m(2):m(3),r=l.filter(e=>"credit"===e.type).reduce((e,t)=>e+t.amount,0)-l.filter(e=>"debit"===e.type).reduce((e,t)=>e+t.amount,0);return(0,t.jsxs)("button",{onClick:()=>f(e),style:{flex:1,background:i?"#C4F000":"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",justifyContent:"center",cursor:"pointer",textAlign:"left",transition:"all 0.2s",minHeight:0},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"10px",letterSpacing:"0.5px"},children:u(e).toUpperCase()}),(0,t.jsx)("div",{style:{fontSize:"26px",fontWeight:800,color:r>=0?"#050505":"#DC2626",lineHeight:1.1},children:g(Math.abs(r))}),(0,t.jsx)("div",{style:{fontSize:"9px",fontWeight:600,color:"#050505",opacity:.6,marginTop:"10px"},children:r>=0?"SURPLUS":"DEFICIT"})]},e)})})]})]})]})}e.s(["default",()=>o])}]);