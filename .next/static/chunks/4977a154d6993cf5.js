(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:o="",children:d,iconNode:a,...x},p)=>(0,t.createElement)("svg",{ref:p,...r,width:i,height:i,stroke:e,strokeWidth:l?24*Number(s)/Number(i):s,className:n("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(x)&&{"aria-hidden":"true"},...x},[...a.map(([e,i])=>(0,t.createElement)(e,i)),...Array.isArray(d)?d:[d]])),l=(e,r)=>{let l=(0,t.forwardRef)(({className:l,...o},d)=>(0,t.createElement)(s,{ref:d,iconNode:r,className:n(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...o}));return l.displayName=i(e),l};e.s(["default",()=>l],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},35408,e=>{"use strict";let t=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["TrendingDown",()=>t],35408)},32377,e=>{"use strict";var t=e.i(43476),i=e.i(71645),n=e.i(71689),r=e.i(25652),s=e.i(35408);function l(){let e,l,o,d,a,x,p,[f,c]=(0,i.useState)([]),[h,g]=(0,i.useState)(!0),[u,y]=(0,i.useState)("current");(0,i.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await fetch("/api/get/transactions"),t=await e.json();t.success&&c(t.data),g(!1)}catch(e){console.error("Error fetching data:",e),g(!1)}},j=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),v=e=>{let t=new Date;return t.setMonth(t.getMonth()-e),t.toLocaleString("en-US",{month:"short"})},b=e=>{let t=new Date,i=new Date(t.getFullYear(),t.getMonth()-e,1),n=new Date(t.getFullYear(),t.getMonth()-e+1,0);return f.filter(e=>{let t=new Date(e.date);return t>=i&&t<=n})},w=()=>{switch(u){case"current":return b(0);case"last":return b(1);case"twoMonths":return b(2);case"threeMonths":return b(3)}};if(h)return(0,t.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px solid #050505"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("div",{style:{background:"#C4F000",border:"2px solid #050505",height:"36px",width:"36px",animation:"pulse 1.5s ease-in-out infinite"}}),(0,t.jsx)("div",{style:{background:"#f5f5f5",height:"16px",width:"200px",animation:"pulse 1.5s ease-in-out infinite"}})]}),(0,t.jsx)("div",{style:{display:"flex",gap:"8px"},children:[1,2,3,4].map(e=>(0,t.jsx)("div",{style:{background:"#f5f5f5",border:"2px solid #050505",height:"32px",width:"50px",animation:`pulse 1.5s ease-in-out infinite ${.1*e}s`}},e))})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"16px 20px",display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"auto 1fr",gap:"16px",overflow:"hidden",minHeight:0},children:[(0,t.jsxs)("div",{style:{gridColumn:"1 / 3",display:"flex",gap:"16px",height:"100px"},children:[(0,t.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"8px",animation:"pulse 1.5s ease-in-out infinite"},children:[(0,t.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"12px",width:"80px"}}),(0,t.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.15)",height:"24px",width:"120px"}}),(0,t.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"10px",width:"100px"}})]}),(0,t.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"8px",animation:"pulse 1.5s ease-in-out infinite 0.2s"},children:[(0,t.jsx)("div",{style:{background:"#f5f5f5",height:"12px",width:"80px"}}),(0,t.jsx)("div",{style:{background:"#e5e5e5",height:"24px",width:"120px"}}),(0,t.jsx)("div",{style:{background:"#f5f5f5",height:"10px",width:"100px"}})]}),(0,t.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"8px",animation:"pulse 1.5s ease-in-out infinite 0.4s"},children:[(0,t.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"12px",width:"80px"}}),(0,t.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.15)",height:"24px",width:"120px"}}),(0,t.jsx)("div",{style:{background:"rgba(5, 5, 5, 0.1)",height:"10px",width:"100px"}})]})]}),(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",gap:"14px"},children:[(0,t.jsx)("div",{style:{background:"#f5f5f5",height:"12px",width:"140px",animation:"pulse 1.5s ease-in-out infinite 0.6s"}}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"14px"},children:[(0,t.jsx)("div",{style:{width:"180px",height:"180px",borderRadius:"50%",background:"linear-gradient(135deg, #C4F000 0%, #A8CC00 50%, #8CAA00 100%)",animation:"pulse 1.5s ease-in-out infinite 0.8s",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("div",{style:{width:"110px",height:"110px",borderRadius:"50%",background:"#ffffff"}})}),(0,t.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"8px"},children:[1,2,3].map(e=>(0,t.jsxs)("div",{style:{background:"#fafafa",border:"1px solid #e5e5e5",height:"36px",padding:"8px 10px",display:"flex",alignItems:"center",gap:"8px",animation:`pulse 1.5s ease-in-out infinite ${.8+.1*e}s`},children:[(0,t.jsx)("div",{style:{width:"12px",height:"12px",background:"#C4F000",border:"1.5px solid #050505"}}),(0,t.jsx)("div",{style:{flex:1,background:"#e5e5e5",height:"10px"}}),(0,t.jsx)("div",{style:{background:"#e5e5e5",height:"10px",width:"40px"}}),(0,t.jsx)("div",{style:{background:"#e5e5e5",height:"10px",width:"60px"}})]},e))})]})]}),(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",gap:"14px"},children:[(0,t.jsx)("div",{style:{background:"#f5f5f5",height:"12px",width:"150px",animation:"pulse 1.5s ease-in-out infinite 0.7s"}}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"14px"},children:[(0,t.jsx)("div",{style:{width:"180px",height:"180px",borderRadius:"50%",background:"linear-gradient(135deg, #DC2626 0%, #B91C1C 50%, #991B1B 100%)",animation:"pulse 1.5s ease-in-out infinite 0.9s",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("div",{style:{width:"110px",height:"110px",borderRadius:"50%",background:"#ffffff"}})}),(0,t.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"8px"},children:[1,2,3].map(e=>(0,t.jsxs)("div",{style:{background:"#fafafa",border:"1px solid #e5e5e5",height:"36px",padding:"8px 10px",display:"flex",alignItems:"center",gap:"8px",animation:`pulse 1.5s ease-in-out infinite ${.9+.1*e}s`},children:[(0,t.jsx)("div",{style:{width:"12px",height:"12px",background:"#DC2626",border:"1.5px solid #050505"}}),(0,t.jsx)("div",{style:{flex:1,background:"#e5e5e5",height:"10px"}}),(0,t.jsx)("div",{style:{background:"#e5e5e5",height:"10px",width:"40px"}}),(0,t.jsx)("div",{style:{background:"#e5e5e5",height:"10px",width:"60px"}})]},e))})]})]})]}),(0,t.jsx)("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
          }
        `})]});let k=w(),C=k.filter(e=>"credit"===e.type).reduce((e,t)=>e+t.amount,0),S=k.filter(e=>"debit"===e.type).reduce((e,t)=>e+t.amount,0),I=C-S,{prevIncome:D,prevExpense:M}={prevIncome:(e=b("current"===u?1:"last"===u?2:"twoMonths"===u?3:4)).filter(e=>"credit"===e.type).reduce((e,t)=>e+t.amount,0),prevExpense:e.filter(e=>"debit"===e.type).reduce((e,t)=>e+t.amount,0)},F=D>0?(C-D)/D*100:0,A=M>0?(S-M)/M*100:0,z=(l=new Map,w().filter(e=>"credit"===e.type).forEach(e=>{let t=e.categories?.name||"Other Income";l.set(t,(l.get(t)||0)+e.amount)}),o=Array.from(l.values()).reduce((e,t)=>e+t,0),d=["#C4F000","#A8CC00","#8CAA00","#708800","#546600","#3D4D00"],Array.from(l.entries()).map(([e,t],i)=>({name:e,amount:t,percentage:o>0?t/o*100:0,color:d[i%d.length]})).sort((e,t)=>t.amount-e.amount)),W=(a=new Map,w().filter(e=>"debit"===e.type).forEach(e=>{let t=e.categories?.name||"Other";a.set(t,(a.get(t)||0)+e.amount)}),x=Array.from(a.values()).reduce((e,t)=>e+t,0),p=["#DC2626","#B91C1C","#991B1B","#7F1D1D","#6B1C1C","#581C1C"],Array.from(a.entries()).map(([e,t],i)=>({name:e,amount:t,percentage:x>0?t/x*100:0,color:p[i%p.length]})).sort((e,t)=>t.amount-e.amount)),$=(e,i=180)=>{if(0===e.reduce((e,t)=>e+t.amount,0))return(0,t.jsxs)("svg",{width:i,height:i,children:[(0,t.jsx)("circle",{cx:i/2,cy:i/2,r:i/2-15,fill:"#f5f5f5"}),(0,t.jsx)("circle",{cx:i/2,cy:i/2,r:i/2-40,fill:"#ffffff"})]});let n=i/2,r=i/2,s=i/2-5,l=i/2-35;return(0,t.jsxs)("svg",{width:i,height:i,children:[(0,t.jsx)("defs",{children:e.map((e,i)=>(0,t.jsxs)("linearGradient",{id:`gradient-${i}-${e.name}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",style:{stopColor:e.color,stopOpacity:1}}),(0,t.jsx)("stop",{offset:"100%",style:{stopColor:e.color,stopOpacity:.85}})]},i))}),(0,t.jsx)("g",{transform:`rotate(-90 ${n} ${r})`,children:e.map((i,o)=>{let d=0;e.slice(0,o).forEach(e=>{d+=e.percentage/100*360});let a=i.percentage/100*360,x=+(a>180),p=n+s*Math.cos(d*Math.PI/180),f=r+s*Math.sin(d*Math.PI/180),c=n+s*Math.cos((d+a)*Math.PI/180),h=r+s*Math.sin((d+a)*Math.PI/180),g=n+l*Math.cos(d*Math.PI/180),u=r+l*Math.sin(d*Math.PI/180),y=n+l*Math.cos((d+a)*Math.PI/180),m=r+l*Math.sin((d+a)*Math.PI/180);return(0,t.jsx)("path",{d:`
                  M ${p} ${f}
                  A ${s} ${s} 0 ${x} 1 ${c} ${h}
                  L ${y} ${m}
                  A ${l} ${l} 0 ${x} 0 ${g} ${u}
                  Z
                `,fill:`url(#gradient-${o}-${i.name})`},o)})}),(0,t.jsx)("circle",{cx:n,cy:r,r:l,fill:"#ffffff"})]})};return(0,t.jsxs)("div",{style:{height:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"2px solid #050505"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"8px 10px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,t.jsx)(n.ArrowLeft,{size:18,strokeWidth:3})}),(0,t.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"16px",fontWeight:800,letterSpacing:"1.5px",color:"#050505"},children:"INCOME & EXPENSE ANALYSIS"})]}),(0,t.jsx)("div",{style:{display:"flex",gap:"8px"},children:["current","last","twoMonths","threeMonths"].map(e=>(0,t.jsx)("button",{onClick:()=>y(e),style:{background:u===e?"#C4F000":"#ffffff",border:"2px solid #050505",padding:"6px 12px",fontSize:"10px",fontWeight:700,color:"#050505",cursor:"pointer",transition:"all 0.2s",letterSpacing:"0.5px"},children:(e=>{switch(e){case"current":return v(0);case"last":return v(1);case"twoMonths":return v(2);case"threeMonths":return v(3)}})(e).toUpperCase()},e))})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"16px 20px",display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"auto 1fr",gap:"16px",overflow:"hidden",minHeight:0},children:[(0,t.jsxs)("div",{style:{gridColumn:"1 / 3",display:"flex",gap:"16px",height:"100px"},children:[(0,t.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"6px",letterSpacing:"0.5px"},children:"TOTAL INCOME"}),(0,t.jsx)("div",{style:{fontSize:"26px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:j(C)}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",display:"flex",alignItems:"center",gap:"4px"},children:[F>=0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.TrendingUp,{size:12,strokeWidth:3}),"+",F.toFixed(1),"%"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.TrendingDown,{size:12,strokeWidth:3}),F.toFixed(1),"%"]}),(0,t.jsx)("span",{style:{opacity:.7},children:"vs last period"})]})]}),(0,t.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"6px",letterSpacing:"0.5px"},children:I>=0?"SURPLUS":"DEFICIT"}),(0,t.jsx)("div",{style:{fontSize:"26px",fontWeight:800,color:"#050505",marginBottom:"4px"},children:j(Math.abs(I))}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.8},children:[C>0?(Math.abs(I)/C*100).toFixed(1):"0.0","% of income"]})]}),(0,t.jsxs)("div",{style:{flex:1,background:S>35e3?"#DC2626":"#C4F000",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:S>35e3?"#ffffff":"#050505",marginBottom:"6px",letterSpacing:"0.5px"},children:"TOTAL EXPENSE"}),(0,t.jsx)("div",{style:{fontSize:"26px",fontWeight:800,color:S>35e3?"#ffffff":"#050505",marginBottom:"4px"},children:j(S)}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:700,color:S>35e3?"#ffffff":"#050505",display:"flex",alignItems:"center",gap:"4px"},children:[A>=0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.TrendingUp,{size:12,strokeWidth:3}),"+",A.toFixed(1),"%"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.TrendingDown,{size:12,strokeWidth:3}),A.toFixed(1),"%"]}),(0,t.jsx)("span",{style:{opacity:.7},children:"vs last period"})]})]})]}),(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",fontWeight:700,color:"#050505",marginBottom:"12px",letterSpacing:"0.5px"},children:"INCOME BY CATEGORY"}),(0,t.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"14px",minHeight:0},children:[(0,t.jsx)("div",{style:{flex:"0 0 auto"},children:$(z,180)}),(0,t.jsx)("div",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",gap:"8px",overflowY:"auto",paddingRight:"8px",maxHeight:"calc(100% - 194px)"},children:0===z.length?(0,t.jsx)("div",{style:{fontSize:"11px",color:"#050505",opacity:.5,textAlign:"center",padding:"16px"},children:"No income data for this period"}):z.map((e,i)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#fafafa",border:"1px solid #e5e5e5"},children:[(0,t.jsx)("div",{style:{width:"12px",height:"12px",background:e.color,flexShrink:0,border:"1.5px solid #050505"}}),(0,t.jsx)("div",{style:{flex:1,fontSize:"11px",fontWeight:600,color:"#050505",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:800,color:"#050505",flexShrink:0,background:"#ffffff",padding:"3px 8px",border:"1px solid #e5e5e5"},children:[e.percentage.toFixed(1),"%"]}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#708800",flexShrink:0},children:j(e.amount)})]},i))})]})]}),(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"18px",display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",fontWeight:700,color:"#050505",marginBottom:"12px",letterSpacing:"0.5px"},children:"EXPENSE BY CATEGORY"}),(0,t.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"14px",minHeight:0},children:[(0,t.jsx)("div",{style:{flex:"0 0 auto"},children:$(W,180)}),(0,t.jsx)("div",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",gap:"8px",overflowY:"auto",paddingRight:"8px",maxHeight:"calc(100% - 194px)"},children:0===W.length?(0,t.jsx)("div",{style:{fontSize:"11px",color:"#050505",opacity:.5,textAlign:"center",padding:"16px"},children:"No expense data for this period"}):W.map((e,i)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#fafafa",border:"1px solid #e5e5e5"},children:[(0,t.jsx)("div",{style:{width:"12px",height:"12px",background:e.color,flexShrink:0,border:"1.5px solid #050505"}}),(0,t.jsx)("div",{style:{flex:1,fontSize:"11px",fontWeight:600,color:"#050505",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:800,color:"#050505",flexShrink:0,background:"#ffffff",padding:"3px 8px",border:"1px solid #e5e5e5"},children:[e.percentage.toFixed(1),"%"]}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#7F1D1D",flexShrink:0},children:j(e.amount)})]},i))})]})]})]})]})}e.s(["default",()=>l])}]);