(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:s="",children:a,iconNode:d,...c},p)=>(0,t.createElement)("svg",{ref:p,...r,width:i,height:i,stroke:e,strokeWidth:l?24*Number(o)/Number(i):o,className:n("lucide",s),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,i])=>(0,t.createElement)(e,i)),...Array.isArray(a)?a:[a]])),l=(e,r)=>{let l=(0,t.forwardRef)(({className:l,...s},a)=>(0,t.createElement)(o,{ref:a,iconNode:r,className:n(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...s}));return l.displayName=i(e),l};e.s(["default",()=>l],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},99082,e=>{"use strict";var t=e.i(43476),i=e.i(71645),n=e.i(71689);let r=({transactions:e,selectedAccount:n,formatCurrency:r,onTransactionAdded:o})=>{let[l,s]=(0,i.useState)(!1),[a,d]=(0,i.useState)(!1),[c,p]=(0,i.useState)({type:"debit",categoryId:"",amount:"",description:""}),f=e=>{let{name:t,value:i}=e.target;p(e=>({...e,[t]:i}))},x=async()=>{if(!c.amount||!c.description)return void alert("Please fill all required fields");d(!0);try{let e=new Date().toISOString().split("T")[0],t=await fetch("/api/put/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:"b3f6e214-39b2-4689-bdcf-e178497d16da",type:c.type,categoryId:c.categoryId||null,amount:parseFloat(c.amount),description:c.description,date:e})}),i=await t.json();i.success?(p({type:"debit",categoryId:"",amount:"",description:""}),s(!1),o()):alert("Error: "+i.error)}catch(e){console.error("Failed to create transaction:",e),alert("Failed to create transaction")}finally{d(!1)}},g=()=>n?e.filter(e=>e.account_id===n):e;return(0,t.jsxs)(t.Fragment,{children:[!l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:800,letterSpacing:"0.5px",color:"#050505"},children:"TRANSACTIONS"}),(0,t.jsx)("button",{onClick:()=>s(!0),style:{background:"#C4F000",border:"2px solid #050505",width:"24px",height:"24px",cursor:"pointer",fontWeight:800,fontSize:"14px",color:"#050505",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:"+"})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px",overflowY:"auto",flex:1},children:[g().map(e=>(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"10px 12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{style:{fontWeight:700,fontSize:"13px",color:"#050505"},children:e.description}),(0,t.jsxs)("div",{style:{fontSize:"10px",color:"#050505",opacity:.5,marginTop:"2px"},children:[e.accounts?.account_name," • ",e.categories?.name||"N/A"]})]}),(0,t.jsxs)("div",{style:{textAlign:"right",marginLeft:"12px",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[(0,t.jsxs)("div",{style:{fontSize:"15px",fontWeight:800,color:"debit"===e.type?"#DC2626":"#16A34A"},children:["debit"===e.type?"-":"+",r(e.amount)]}),(0,t.jsx)("div",{style:{fontSize:"9px",color:"#050505",opacity:.5},children:new Date(e.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})})]})]},e.id)),0===g().length&&(0,t.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666",fontSize:"13px"},children:"No transactions found"})]})]}),l&&(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",height:"100%"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:800,letterSpacing:"0.5px",color:"#050505"},children:"ADD TRANSACTION"}),(0,t.jsx)("button",{onClick:()=>s(!1),style:{background:"#DC2626",border:"2px solid #050505",width:"24px",height:"24px",cursor:"pointer",fontWeight:800,fontSize:"14px",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:"×"})]}),(0,t.jsxs)("select",{name:"type",value:c.type,onChange:e=>{let t=e.target.value;p(e=>({...e,type:t,categoryId:""}))},style:{background:"#FFFFFF",border:"2px solid #050505",padding:"10px",fontSize:"12px",fontWeight:700,color:"#050505"},children:[(0,t.jsx)("option",{value:"debit",children:"SPENDING"}),(0,t.jsx)("option",{value:"credit",children:"INCOME"})]}),(0,t.jsxs)("select",{name:"categoryId",value:c.categoryId,onChange:f,style:{background:"#FFFFFF",border:"2px solid #050505",padding:"10px",fontSize:"12px",fontWeight:700,color:"#050505"},children:[(0,t.jsx)("option",{value:"",children:"CATEGORY (OPTIONAL)"}),("debit"===c.type?[{id:"9bcdaf57-3903-42bd-80df-756b29b2be02",name:"Food"},{id:"f109cc76-44f8-41e2-883f-d5cee776c885",name:"Transport"},{id:"711eac3a-33c6-4011-9f86-548d8fc31e37",name:"Housing"},{id:"69143d7e-37f8-498b-ba46-a6b5d4af6086",name:"Shopping"},{id:"e008c9cc-3c5d-46d2-be5a-262f3dce00cd",name:"Health"}]:[{id:"ee7ddc86-ba98-4c1e-aa02-ae819b388f47",name:"Salary"},{id:"6ef718a3-ac9a-492b-b30b-6f80a2855f4b",name:"Freelancing"}]).map(e=>(0,t.jsx)("option",{value:e.id,children:e.name.toUpperCase()},e.id))]}),(0,t.jsx)("input",{type:"number",name:"amount",placeholder:"Amount",value:c.amount,onChange:f,min:"0.01",step:"0.01",style:{background:"#FFFFFF",border:"2px solid #050505",padding:"10px",fontSize:"12px",fontWeight:700,color:"#050505"}}),(0,t.jsx)("input",{type:"text",name:"description",placeholder:"Description",value:c.description,onChange:f,style:{background:"#FFFFFF",border:"2px solid #050505",padding:"10px",fontSize:"12px",fontWeight:700,color:"#050505"}}),(0,t.jsx)("button",{onClick:x,disabled:a,style:{background:"#C4F000",border:"2px solid #050505",padding:"12px",fontSize:"12px",fontWeight:800,cursor:a?"not-allowed":"pointer",opacity:a?.6:1,color:"#050505",marginTop:"auto"},children:a?"ADDING...":"ADD TRANSACTION"})]})]})};function o(){let[e,o]=(0,i.useState)(null),[l,s]=(0,i.useState)([]),[a,d]=(0,i.useState)([]),[c,p]=(0,i.useState)(null),[f,x]=(0,i.useState)(!0),[g,h]=(0,i.useState)(!0);(0,i.useEffect)(()=>{u()},[]);let u=async()=>{try{let[e,t,i]=await Promise.all([fetch("/api/get/users"),fetch("/api/get/accounts"),fetch("/api/get/transactions")]),n=await e.json(),r=await t.json(),l=await i.json();n.success&&o(n.data),r.success&&s(r.data),l.success&&d(l.data),x(!1),setTimeout(()=>h(!1),2500)}catch(e){console.error("Error fetching data:",e),x(!1),h(!1)}},y=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),m=({height:e="120px",bgColor:i="#ffffff"})=>(0,t.jsxs)("div",{style:{background:i,border:"2px solid #050505",padding:"24px",minHeight:e,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{width:"40%",height:"10px",background:"#C4F000"===i?"rgba(0,0,0,0.1)":"#e5e5e5",marginBottom:"12px"}}),(0,t.jsx)("div",{style:{width:"70%",height:"14px",background:"#C4F000"===i?"rgba(0,0,0,0.1)":"#e5e5e5"}})]}),(0,t.jsx)("div",{style:{width:"60%",height:"24px",background:"#C4F000"===i?"rgba(0,0,0,0.1)":"#e5e5e5"}})]}),b=()=>(0,t.jsxs)("div",{style:{background:"#ffffff",border:"2px solid #050505",padding:"10px 12px",display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{style:{width:"60%",height:"13px",background:"#e5e5e5",marginBottom:"4px"}}),(0,t.jsx)("div",{style:{width:"40%",height:"10px",background:"#e5e5e5"}})]}),(0,t.jsx)("div",{style:{width:"80px",height:"15px",background:"#e5e5e5"}})]});if(f)return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,t.jsx)("div",{style:{background:"#e5e5e5",border:"2px solid #050505",padding:"10px 12px",width:"44px",height:"44px"}}),(0,t.jsx)("div",{style:{width:"100px",height:"20px",background:"#e5e5e5"}})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"auto 1fr",gap:"16px"},children:[(0,t.jsx)("div",{style:{gridColumn:"span 4"},children:(0,t.jsx)(m,{height:"auto",bgColor:"#ffffff"})}),(0,t.jsx)("div",{style:{gridColumn:"span 4"},children:(0,t.jsx)(m,{height:"auto",bgColor:"#C4F000"})}),(0,t.jsx)("div",{style:{gridColumn:"span 4"},children:(0,t.jsx)(m,{height:"auto",bgColor:"#ffffff"})}),(0,t.jsxs)("div",{style:{gridColumn:"span 8",background:"#ffffff",border:"2px solid #050505",padding:"16px"},children:[(0,t.jsx)("div",{style:{width:"120px",height:"14px",background:"#e5e5e5",marginBottom:"12px"}}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"14px"},children:[1,2,3,4].map(e=>(0,t.jsx)(m,{bgColor:"#ffffff"},e))})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 4",background:"#ffffff",border:"2px solid #050505",padding:"16px"},children:[(0,t.jsx)("div",{style:{width:"140px",height:"14px",background:"#e5e5e5",marginBottom:"12px"}}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[1,2,3,4,5].map(e=>(0,t.jsx)(b,{},e))})]})]})]});let j=l.reduce((e,t)=>e+t.balance,0),v=a.filter(e=>"debit"===e.type),C=v.reduce((e,t)=>e+t.amount,0),{daysLeft:S,dailySpend:w}=(()=>{if(!a.length)return{daysLeft:0,dailySpend:0};let e=new Date;e.setDate(e.getDate()-30);let t=a.filter(t=>{let i=new Date(t.date);return"debit"===t.type&&i>=e});if(!t.length)return{daysLeft:999,dailySpend:0};let i=t.reduce((e,t)=>e+t.amount,0)/30,n=l.reduce((e,t)=>e+t.balance,0);return{daysLeft:i>0?Math.floor(n/i):999,dailySpend:i}})();return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,t.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"10px 12px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#050505",e.currentTarget.style.color="#C4F000"},onMouseLeave:e=>{e.currentTarget.style.background="#C4F000",e.currentTarget.style.color="#050505"},children:(0,t.jsx)(n.ArrowLeft,{size:20,strokeWidth:3})}),(0,t.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"20px",fontWeight:800,letterSpacing:"1.5px",color:"#050505",lineHeight:"44px"},children:"BALANCE"})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"auto 1fr",gap:"16px",maxHeight:"calc(100vh - 90px)",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{gridColumn:"span 4",background:"#ffffff",border:"2px solid #050505",padding:"20px"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"TOTAL BALANCE"}),(0,t.jsx)("div",{style:{fontSize:"32px",fontWeight:800,color:"#050505"},children:y(j)}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"8px",fontStyle:"italic"},children:g?"predicting...":S>365?"stable":`~${S} days left`})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 4",background:"#C4F000",border:"2px solid #050505",padding:"20px"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"YOUR BALANCE"}),(0,t.jsx)("div",{style:{fontSize:"32px",fontWeight:800,color:"#050505"},children:y(e?.balance||0)}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"8px",fontStyle:"italic"},children:g?"predicting...":w>0?`₹${Math.round(w)}/day avg`:"no spending"})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 4",background:"#ffffff",border:"2px solid #050505",padding:"20px"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"TOTAL SPENT"}),(0,t.jsx)("div",{style:{fontSize:"32px",fontWeight:800,color:"#DC2626"},children:y(C)}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"8px",fontStyle:"italic"},children:`${v.length} transactions`})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 8",background:"#ffffff",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{fontSize:"14px",fontWeight:800,color:"#050505",display:"flex",justifyContent:"space-between",alignItems:"center",letterSpacing:"0.5px",marginBottom:"12px"},children:[(0,t.jsx)("span",{children:"ACCOUNTS"}),c&&(0,t.jsx)("button",{onClick:()=>p(null),style:{background:"#050505",border:"2px solid #050505",padding:"4px 10px",cursor:"pointer",fontSize:"10px",fontWeight:700,color:"#C4F000",letterSpacing:"0.5px"},children:"CLEAR"})]}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"14px",overflowY:"auto",flex:1},children:l.map(e=>{let i=c===e.id,n="",r=e.account_name.toLowerCase();return n=r.includes("hdfc")?"HDFC":r.includes("paytm")?"PAYTM":r.includes("phonepe")?"PhonePe":r.includes("cash")?"₹":r.includes("visa")?"VISA":r.includes("mastercard")?"MC":"bank"===e.type?"BANK":"wallet"===e.type?"WALLET":"cash"===e.type?"₹":e.type.charAt(0).toUpperCase(),(0,t.jsxs)("div",{onClick:()=>p(e.id),onMouseEnter:e=>{e.currentTarget.style.filter="brightness(0.9)"},onMouseLeave:e=>{e.currentTarget.style.filter="brightness(1)"},style:{background:i?"#C4F000":"#ffffff",border:"2px solid #050505",padding:"24px",cursor:"pointer",transition:"all 0.15s",minHeight:"120px",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.6,letterSpacing:"0.5px"},children:e.type.toUpperCase()}),(0,t.jsx)("div",{style:{fontSize:n.length<=2?"18px":"12px",fontWeight:900,color:"#050505",opacity:.15,letterSpacing:n.length<=2?"0":"1px",fontFamily:n.length<=2?"'Inter', sans-serif":"'Syne', sans-serif"},children:n})]}),(0,t.jsx)("div",{style:{fontWeight:700,fontSize:"14px",color:"#050505"},children:e.account_name})]}),(0,t.jsx)("div",{style:{fontSize:"24px",fontWeight:800,color:"#050505"},children:y(e.balance)})]},e.id)})})]}),(0,t.jsx)("div",{style:{gridColumn:"span 4",background:"#ffffff",border:"2px solid #050505",padding:"16px",display:"flex",flexDirection:"column",overflow:"hidden"},children:(0,t.jsx)(r,{transactions:a,selectedAccount:c,formatCurrency:y,onTransactionAdded:()=>{h(!0),u()}})})]})]})}e.s(["default",()=>o])}]);