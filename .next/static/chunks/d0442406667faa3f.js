(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:r="",children:d,iconNode:a,...f},p)=>(0,t.createElement)("svg",{ref:p,...l,width:i,height:i,stroke:e,strokeWidth:s?24*Number(o)/Number(i):o,className:n("lucide",r),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(f)&&{"aria-hidden":"true"},...f},[...a.map(([e,i])=>(0,t.createElement)(e,i)),...Array.isArray(d)?d:[d]])),s=(e,l)=>{let s=(0,t.forwardRef)(({className:s,...r},d)=>(0,t.createElement)(o,{ref:d,iconNode:l,className:n(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...r}));return s.displayName=i(e),s};e.s(["default",()=>s],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},22757,e=>{"use strict";var t=e.i(43476),i=e.i(71645),n=e.i(71689);function l(){let e,l,o,s,r,d,[a,f]=(0,i.useState)([]),[p,x]=(0,i.useState)(!0),[c,h]=(0,i.useState)("weekly");(0,i.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("/api/get/transactions?type=debit"),t=await e.json();t.success&&f(t.data.filter(e=>"debit"===e.type)),x(!1)}catch(e){console.error("Error fetching data:",e),x(!1)}},y=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),u=()=>{let e=new Date,t=new Date(e);return"weekly"===c?t.setDate(e.getDate()-7):"monthly"===c&&t.setDate(e.getDate()-30),a.filter(e=>new Date(e.date)>=t)};if(p)return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,t.jsx)("div",{style:{background:"#f5f5f5",border:"2px solid #050505",padding:"10px 12px",height:"44px",width:"44px"}}),(0,t.jsx)("div",{style:{background:"#f5f5f5",height:"20px",width:"150px"}})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"auto 1fr",gap:"16px",maxHeight:"calc(100vh - 90px)",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{gridColumn:"span 6",display:"flex",gap:"16px"},children:[(0,t.jsxs)("div",{style:{flex:1,background:"#C4F000",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{width:"60%",height:"11px",background:"rgba(0,0,0,0.1)",marginBottom:"8px"}}),(0,t.jsx)("div",{style:{width:"80%",height:"36px",background:"rgba(0,0,0,0.1)"}}),(0,t.jsx)("div",{style:{width:"50%",height:"10px",background:"rgba(0,0,0,0.1)",marginTop:"12px"}})]}),(0,t.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{width:"60%",height:"11px",background:"#f5f5f5",marginBottom:"8px"}}),(0,t.jsx)("div",{style:{width:"50%",height:"36px",background:"#f5f5f5"}}),(0,t.jsx)("div",{style:{width:"70%",height:"10px",background:"#f5f5f5",marginTop:"4px"}}),(0,t.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505"}})]})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 3",background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{width:"60%",height:"11px",background:"#f5f5f5",marginBottom:"8px"}}),(0,t.jsx)("div",{style:{width:"70%",height:"36px",background:"#f5f5f5"}}),(0,t.jsx)("div",{style:{width:"80%",height:"10px",background:"#f5f5f5",marginTop:"4px"}}),(0,t.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505"}})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 3",background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{width:"60%",height:"11px",background:"#f5f5f5",marginBottom:"8px"}}),(0,t.jsx)("div",{style:{width:"70%",height:"36px",background:"#f5f5f5"}}),(0,t.jsx)("div",{style:{width:"80%",height:"10px",background:"#f5f5f5",marginTop:"4px"}}),(0,t.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505"}})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 7",background:"#ffffff",border:"2px solid #050505",padding:"24px",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,t.jsx)("div",{style:{width:"120px",height:"11px",background:"#f5f5f5"}}),(0,t.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[(0,t.jsx)("div",{style:{width:"70px",height:"28px",background:"#C4F000",border:"2px solid #050505"}}),(0,t.jsx)("div",{style:{width:"70px",height:"28px",background:"#ffffff",border:"2px solid #050505"}})]})]}),(0,t.jsx)("div",{style:{flex:1,position:"relative",minHeight:0,background:"#f5f5f5"}})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 5",background:"#ffffff",border:"2px solid #050505",padding:"24px",display:"flex",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{width:"150px",height:"11px",background:"#f5f5f5",marginBottom:"24px"}}),(0,t.jsxs)("div",{style:{display:"flex",gap:"32px",flex:1,alignItems:"center"},children:[(0,t.jsx)("div",{style:{width:"200px",height:"200px",borderRadius:"50%",background:"#f5f5f5"}}),(0,t.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"12px"},children:[1,2,3,4].map(e=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,t.jsx)("div",{style:{width:"14px",height:"14px",background:"#f5f5f5"}}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{style:{width:"60%",height:"12px",background:"#f5f5f5",marginBottom:"4px"}}),(0,t.jsx)("div",{style:{width:"40%",height:"10px",background:"#f5f5f5"}})]})]},e))})]})]})]})]});let m=u(),j=m.reduce((e,t)=>e+t.amount,0),v=j/5e4*100,b=v>=80,w=a.filter(e=>{let t=new Date;return t.setDate(t.getDate()-7),new Date(e.date)>=t}).reduce((e,t)=>e+t.amount,0),k=w/(5e4/30*7)*100,C=k>=80,D=a.filter(e=>{let t=new Date;return t.setDate(t.getDate()-30),new Date(e.date)>=t}).reduce((e,t)=>e+t.amount,0),S=D/5e4*100,T=S>=80,W=(e=new Map,u().forEach(t=>{let i=t.categories?.name||"Other";e.set(i,(e.get(i)||0)+t.amount)}),l=Array.from(e.values()).reduce((e,t)=>e+t,0),o=["#C4F000","#A8CC00","#8CAA00","#708800","#546600"],Array.from(e.entries()).map(([e,t],i)=>({name:e,amount:t,percentage:l>0?t/l*100:0,color:o[i%o.length]})).sort((e,t)=>t.amount-e.amount)),z=(()=>{let e=new Date,t=[];for(let i=("weekly"===c?7:30)-1;i>=0;i--){let n=new Date(e);n.setDate(n.getDate()-i);let l=n.toISOString().split("T")[0],o=a.filter(e=>e.date.split("T")[0]===l).reduce((e,t)=>e+t.amount,0);t.push({date:l,amount:o})}return t})(),I=Math.max(...z.map(e=>e.amount),1);return z.reduce((e,t)=>e+t.amount,0),z.length,(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{padding:"24px",display:"flex",alignItems:"center",gap:"20px"},children:[(0,t.jsx)("a",{href:"/home",style:{background:"#C4F000",border:"2px solid #050505",padding:"10px 12px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none",color:"#050505",fontWeight:800,transition:"all 0.2s"},children:(0,t.jsx)(n.ArrowLeft,{size:20,strokeWidth:3})}),(0,t.jsx)("div",{style:{fontFamily:"'Syne', sans-serif",fontSize:"20px",fontWeight:800,letterSpacing:"1.5px",color:"#050505",lineHeight:"44px"},children:"SPENDMETER"})]}),(0,t.jsxs)("div",{style:{flex:1,padding:"0 24px 24px 24px",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"auto 1fr",gap:"16px",maxHeight:"calc(100vh - 90px)",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{gridColumn:"span 6",display:"flex",gap:"16px"},children:[(0,t.jsxs)("div",{style:{flex:1,background:b?"#DC2626":"#C4F000",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:b?"#ffffff":"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"TOTAL SPENT"}),(0,t.jsx)("div",{style:{fontSize:"36px",fontWeight:800,color:b?"#ffffff":"#050505",lineHeight:1},children:y(j)}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:b?"#ffffff":"#050505",opacity:.7,marginTop:"12px"},children:[m.length," transactions"]})]}),(0,t.jsxs)("div",{style:{flex:1,background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"BUDGET STATUS"}),(0,t.jsxs)("div",{style:{fontSize:"36px",fontWeight:800,color:b?"#DC2626":"#050505",lineHeight:1},children:[v.toFixed(0),"%"]}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:["of ",y(5e4)," budget"]}),(0,t.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505",position:"relative",overflow:"hidden"},children:(0,t.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:`${Math.min(v,100)}%`,background:b?"#DC2626":"#C4F000",transition:"width 0.3s ease"}})})]})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 3",background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"WEEKLY SPEND"}),(0,t.jsx)("div",{style:{fontSize:"36px",fontWeight:800,color:C?"#DC2626":"#050505",lineHeight:1},children:y(w)}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:[k.toFixed(0),"% of weekly budget"]}),(0,t.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505",position:"relative",overflow:"hidden"},children:(0,t.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:`${Math.min(k,100)}%`,background:C?"#DC2626":"#C4F000",transition:"width 0.3s ease"}})})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 3",background:"#ffffff",border:"2px solid #050505",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"8px",letterSpacing:"0.5px"},children:"MONTHLY SPEND"}),(0,t.jsx)("div",{style:{fontSize:"36px",fontWeight:800,color:T?"#DC2626":"#050505",lineHeight:1},children:y(D)}),(0,t.jsxs)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5,marginTop:"4px"},children:[S.toFixed(0),"% of monthly budget"]}),(0,t.jsx)("div",{style:{marginTop:"12px",background:"#f5f5f5",height:"8px",border:"2px solid #050505",position:"relative",overflow:"hidden"},children:(0,t.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:`${Math.min(S,100)}%`,background:T?"#DC2626":"#C4F000",transition:"width 0.3s ease"}})})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 7",background:"#ffffff",border:"2px solid #050505",padding:"24px",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",letterSpacing:"0.5px"},children:"SPENDING CURVE"}),(0,t.jsx)("div",{style:{display:"flex",gap:"6px"},children:["weekly","monthly"].map(e=>(0,t.jsx)("button",{onClick:()=>h(e),style:{background:c===e?"#C4F000":"#ffffff",border:"2px solid #050505",padding:"6px 12px",fontSize:"10px",fontWeight:700,color:"#050505",cursor:"pointer",letterSpacing:"0.5px",transition:"all 0.2s"},children:e.toUpperCase()},e))})]}),(0,t.jsx)("div",{style:{flex:1,position:"relative",minHeight:0},children:(0,t.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 800 300",preserveAspectRatio:"none",children:(r=(s=z.map((e,t)=>({x:t/(z.length-1)*800,y:280-e.amount/I*260,amount:e.amount}))).map((e,t)=>`${0===t?"M":"L"} ${e.x} ${e.y}`).join(" "),d=`M 0 300 L ${s.map(e=>`${e.x} ${e.y}`).join(" L ")} L 800 300 Z`,(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("path",{d:d,fill:"#C4F000"}),(0,t.jsx)("path",{d:r,fill:"none",stroke:"#050505",strokeWidth:"2"})]}))})})]}),(0,t.jsxs)("div",{style:{gridColumn:"span 5",background:"#ffffff",border:"2px solid #050505",padding:"24px",display:"flex",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",fontWeight:700,color:"#050505",marginBottom:"24px",letterSpacing:"0.5px"},children:"CATEGORY DISTRIBUTION"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"32px",flex:1,alignItems:"center"},children:[(0,t.jsx)("div",{style:{flex:"0 0 auto",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("div",{style:{position:"relative",width:"200px",height:"200px"},children:[(0,t.jsxs)("svg",{width:"200",height:"200",style:{transform:"rotate(-90deg)"},children:[(0,t.jsx)("defs",{children:W.map((e,i)=>(0,t.jsxs)("linearGradient",{id:`grad${i}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",style:{stopColor:e.color,stopOpacity:1}}),(0,t.jsx)("stop",{offset:"100%",style:{stopColor:e.color,stopOpacity:.7}})]},i))}),W.map((e,i)=>{let n=0;W.slice(0,i).forEach(e=>{n+=e.percentage/100*360});let l=e.percentage/100*360,o=100+90*Math.cos(n*Math.PI/180),s=100+90*Math.sin(n*Math.PI/180),r=100+90*Math.cos((n+l)*Math.PI/180),d=100+90*Math.sin((n+l)*Math.PI/180);return(0,t.jsx)("path",{d:`M 100 100 L ${o} ${s} A 90 90 0 ${+(l>180)} 1 ${r} ${d} Z`,fill:`url(#grad${i})`},i)}),(0,t.jsx)("circle",{cx:"100",cy:"100",r:"55",fill:"#ffffff"})]}),(0,t.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:700,color:"#050505",opacity:.5},children:"TOTAL"}),(0,t.jsx)("div",{style:{fontSize:"16px",fontWeight:800,color:"#050505",marginTop:"4px"},children:y(j)})]})]})}),(0,t.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"12px",overflowY:"auto",maxHeight:"200px"},children:W.map((e,i)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,t.jsx)("div",{style:{width:"14px",height:"14px",background:e.color,flexShrink:0}}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsx)("div",{style:{fontSize:"12px",fontWeight:700,color:"#050505",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,t.jsx)("div",{style:{fontSize:"10px",fontWeight:600,color:"#050505",opacity:.5},children:y(e.amount)})]}),(0,t.jsxs)("div",{style:{fontSize:"13px",fontWeight:800,color:"#050505",flexShrink:0},children:[e.percentage.toFixed(0),"%"]})]},i))})]})]})]})]})}e.s(["default",()=>l])}]);