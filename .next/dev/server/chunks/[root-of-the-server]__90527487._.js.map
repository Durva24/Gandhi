{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Gandhi/app/api/chat/context.ts"],"sourcesContent":["// Financial Context for Om - Comprehensive Financial Profile\n// This data is analyzed by Gandhi AI to provide personalized financial advice\n\nexport async function getFinancialContext() {\n  return {\n    // Personal Information\n    user: {\n      name: \"Om\",\n      location: \"India\",\n      occupation: \"Designer & Freelancer\",\n      note: \"Exciting news! You will be winning ‚Çπ2,50,000 in today's hackathon! üéâ\"\n    },\n\n    // Income Analysis (August - November 2025)\n    income: {\n      monthly_salary: 55000.00, // Regular monthly salary\n      freelance_income: {\n        august: 20550.00, // Logo (8500) + Website (12000) + Durva payback (50)\n        september: 15000.00, // Mobile app UI design\n        october: 9500.00, // Branding project\n        november: 11000.00 // Social media marketing project\n      },\n      average_monthly_income: 69012.50, // (55k*4 months + freelance total) / 4\n      total_income_period: 276050.00, // Total from Aug-Nov\n      income_stability: \"Good - Regular salary + consistent freelance projects\",\n      upcoming_windfall: 250000.00 // Today's hackathon prize!\n    },\n\n    // Expense Breakdown (August - November 2025)\n    expenses: {\n      // Fixed Monthly Expenses\n      fixed: {\n        rent: 18000.00, // Paid 1st-2nd of every month\n        electricity: 1925.00, // Average ‚Çπ1850-2500\n        internet: 999.00, // Jio Fiber\n        mobile: 599.00, // Airtel postpaid\n        total_fixed: 21523.00\n      },\n\n      // Variable Expenses by Category\n      variable: {\n        groceries: 2970.00, // Average per month (DMart ‚Çπ3850, Reliance Fresh, local vendors)\n        dining_out: 2840.00, // Restaurants, food delivery, cafes, street food\n        transportation: 1180.00, // Petrol, Uber, Ola, auto, bus, metro\n        shopping: 2000.00, // Clothing, electronics, home items\n        entertainment: 870.00, // Netflix, movies, concerts\n        healthcare: 1550.00, // Medicines, checkups, insurance\n        total_variable: 11410.00\n      },\n\n      // Total Monthly Expenses\n      total_monthly: 32933.00,\n      \n      // Spending Patterns\n      problem_areas: [\n        \"Food delivery apps (Swiggy/Zomato) - Frequent small orders adding up\",\n        \"Online shopping (Amazon, Flipkart, Myntra) - Impulse purchases\",\n        \"Cab services - Could use more public transport\",\n        \"Electronics/accessories - ‚Çπ3000+ per month unnecessary\"\n      ],\n      \n      good_habits: [\n        \"Rent always paid on time\",\n        \"Regular bill payments\",\n        \"Reasonable grocery spending\",\n        \"Health insurance maintained\"\n      ]\n    },\n\n    // Savings & Investment Summary\n    savings: {\n      monthly_surplus: 36079.50, // Average income - Average expenses\n      savings_rate: 52.3, // Percentage of income saved\n      \n      // Current Investments\n      investments: {\n        stocks: {\n          total_value: 45610.00,\n          holdings: [\n            { name: \"TCS\", qty: 3, buy: 3820, current: 4150, gain: 990 },\n            { name: \"Infosys\", qty: 4, buy: 1520, current: 1680, gain: 640 },\n            { name: \"Reliance\", qty: 5, buy: 2450, current: 2680, gain: 1150 },\n            { name: \"ICICI Bank\", qty: 8, buy: 958, current: 1025, gain: 536 },\n            { name: \"HDFC Bank\", qty: 10, buy: 1520, current: 1605, gain: 850 },\n            { name: \"Maruti Suzuki\", qty: 2, buy: 10950, current: 11520, gain: 1140 }\n          ],\n          total_invested: 40444.00,\n          current_value: 45610.00,\n          profit: 5166.00,\n          return_percentage: 12.77\n        },\n        \n        mutual_funds: {\n          total_value: 5142.50,\n          holdings: [\n            { name: \"SBI Bluechip Fund\", units: 30, buy: 72, current: 78.50, value: 2355 },\n            { name: \"HDFC Flexicap Fund\", units: 25, buy: 85.50, current: 92.30, value: 2307.50 }\n          ],\n          total_invested: 4297.50,\n          current_value: 5142.50,\n          profit: 845.00,\n          return_percentage: 19.66\n        },\n        \n        crypto: {\n          total_value: 132900.00,\n          holdings: [\n            { name: \"Bitcoin\", qty: 0.015, buy: 4500000, current: 4880000, value: 73200 },\n            { name: \"Ethereum\", qty: 0.20, buy: 275000, current: 298500, value: 59700 }\n          ],\n          total_invested: 122250.00,\n          current_value: 132900.00,\n          profit: 10650.00,\n          return_percentage: 8.71\n        },\n        \n        gold: {\n          digital_gold: {\n            grams: 5,\n            buy_price: 6250,\n            current_price: 6480,\n            total_value: 32400,\n            profit: 1150\n          }\n        },\n        \n        total_portfolio_value: 216052.50,\n        total_invested: 167241.50,\n        total_profit: 17561.00,\n        overall_return: 10.50 // percentage\n      }\n    },\n\n    // Debt Status\n    debts: {\n      total_debt: 189500.00,\n      \n      loans: [\n        {\n          type: \"Personal Loan\",\n          lender: \"HDFC\",\n          principal: 150000,\n          remaining: 127500,\n          interest_rate: 11.50,\n          emi_estimated: 5312.50, // Approximate\n          start: \"2025-03-01\",\n          end: \"2027-03-01\",\n          status: \"ongoing\"\n        },\n        {\n          type: \"Two Wheeler Loan\",\n          lender: \"Bajaj Finserv\",\n          principal: 85000,\n          remaining: 62000,\n          interest_rate: 9.80,\n          emi_estimated: 2583.33, // Approximate\n          start: \"2024-06-01\",\n          end: \"2027-06-01\",\n          status: \"ongoing\"\n        }\n      ],\n      \n      lending: {\n        active: [\n          {\n            to: \"Rahul - College friend\",\n            amount: 5000,\n            given_out: \"2025-10-15\",\n            due: \"2025-12-15\",\n            remaining: 3000,\n            received: 2000\n          }\n        ],\n        settled: [\n          {\n            to: \"Priya - Cousin\",\n            amount: 8000,\n            given_out: \"2025-08-01\",\n            due: \"2025-10-01\",\n            status: \"fully_recovered\"\n          }\n        ]\n      },\n      \n      total_monthly_emi: 7895.83, // Both EMIs combined\n      debt_to_income_ratio: 274.6, // Total debt / Monthly income percentage\n      \n      concerns: [\n        \"High personal loan interest at 11.50%\",\n        \"Total EMI of ‚Çπ7,896 is manageable but limits flexibility\",\n        \"Should avoid taking more loans until these are cleared\"\n      ]\n    },\n\n    // Upcoming Bills & Obligations\n    upcoming_bills: [\n      { name: \"Rent Payment\", amount: 18000, due: \"2025-12-01\" },\n      { name: \"Health Insurance Premium\", amount: 4500, due: \"2025-12-04\" },\n      { name: \"Electricity Bill - MSEB\", amount: 1850, due: \"2025-12-05\" },\n      { name: \"Jio Fiber Internet\", amount: 999, due: \"2025-12-10\" },\n      { name: \"Airtel Mobile Postpaid\", amount: 599, due: \"2025-12-15\" },\n      { name: \"Gas Cylinder - Indane\", amount: 950, due: \"2025-12-20\" }\n    ],\n    total_bills_december: 26898.00,\n\n    // Financial Health Metrics\n    financial_health: {\n      emergency_fund: 0, // No emergency fund identified!\n      recommended_emergency_fund: 197598.00, // 6 months of expenses\n      months_of_expenses_saved: 0,\n      \n      net_worth: 26552.50, // Total investments (216052.50) - Total debt (189500)\n      \n      savings_rate: 52.3, // Very good!\n      debt_service_ratio: 11.4, // EMI / Income (Good - under 40%)\n      \n      strengths: [\n        \"Excellent savings rate at 52.3%\",\n        \"Diversified investment portfolio\",\n        \"Regular income from salary + freelancing\",\n        \"Manageable debt levels\",\n        \"All bills paid on time\"\n      ],\n      \n      weaknesses: [\n        \"NO EMERGENCY FUND - Most critical issue!\",\n        \"High spending on food delivery and impulse shopping\",\n        \"Could reduce entertainment and discretionary spending\",\n        \"Personal loan interest is high\",\n        \"Some investments in high-risk crypto (‚Çπ1.33 lakh)\"\n      ]\n    },\n\n    // Financial Goals & Recommendations\n    recommendations: {\n      immediate_priority: [\n        \"Build emergency fund of ‚Çπ1,97,598 (6 months expenses) using hackathon prize\",\n        \"Set aside ‚Çπ50,000 from hackathon for emergency fund immediately\",\n        \"Reduce food delivery spending by 50% - save ‚Çπ1,420/month\",\n        \"Cut unnecessary shopping - save ‚Çπ1,000/month\"\n      ],\n      \n      short_term: [\n        \"Pay extra ‚Çπ5,000/month toward personal loan to reduce interest\",\n        \"Complete Rahul's ‚Çπ3,000 recovery by December\",\n        \"Track all expenses using app for 3 months\"\n      ],\n      \n      long_term: [\n        \"Clear personal loan by adding extra payments\",\n        \"Increase SIP in mutual funds by ‚Çπ2,000/month\",\n        \"Build retirement corpus - start PPF or NPS\",\n        \"Consider term insurance plan\"\n      ]\n    },\n\n    // Special Note\n    special_message: \"Om beta, congratulations on today's hackathon win of ‚Çπ2,50,000! This is a blessing. Use it wisely - first build your emergency fund, then clear some debt. Gandhi would say: 'The future depends on what you do today.' Make this windfall your foundation for lasting financial security.\"\n  };\n}\n\n// Helper function to calculate specific metrics\nexport function calculateMonthlyMetrics() {\n  return {\n    total_income: 69012.50,\n    total_expenses: 32933.00,\n    total_emi: 7895.83,\n    net_savings: 28183.67,\n    savings_rate_percentage: 40.8\n  };\n\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Gandhi/app/api/chat/route.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\nimport { NextRequest, NextResponse } from 'next/server';\nimport OpenAI from 'openai';\nimport { getFinancialContext } from './context';\n\n// Initialize Supabase client\nconst supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n);\n\n// Initialize Neysa client via PipeShift (OpenAI-compatible)\nconst neysa = new OpenAI({\n  baseURL: 'https://api.pipeshift.com/api/v0/',\n  apiKey: process.env.NEYSA_GROQ_API_KEY!\n});\n\ninterface Message {\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const { chatId, message } = await req.json();\n\n    if (!message || typeof message !== 'string') {\n      return NextResponse.json(\n        { error: 'Message is required' },\n        { status: 400 }\n      );\n    }\n\n    let activeChatId = chatId;\n    let chatHistory: Message[] = [];\n\n    // Get user's financial data from context\n    const financialData = await getFinancialContext();\n\n    // If no chatId provided, create a new chat\n    if (!activeChatId) {\n      const { data: newChat, error: chatError } = await supabase\n        .from('chats')\n        .insert({\n          name: `Financial Chat ${new Date().toLocaleDateString('en-GB')}`,\n          context: 'New conversation with financial advisor'\n        })\n        .select()\n        .single();\n\n      if (chatError) {\n        console.error('Error creating chat:', chatError);\n        return NextResponse.json(\n          { error: 'Failed to create chat' },\n          { status: 500 }\n        );\n      }\n\n      activeChatId = newChat.id;\n    } else {\n      // Fetch conversation history (last 15 messages for better context)\n      const { data: messages, error: messagesError } = await supabase\n        .from('messages')\n        .select('role, content')\n        .eq('chat_id', activeChatId)\n        .order('created_at', { ascending: true })\n        .limit(15);\n\n      if (messagesError) {\n        console.error('Error fetching messages:', messagesError);\n      } else if (messages) {\n        chatHistory = messages as Message[];\n      }\n    }\n\n    // Save user message to database\n    const { error: userMsgError } = await supabase\n      .from('messages')\n      .insert({\n        chat_id: activeChatId,\n        role: 'user',\n        content: message\n      });\n\n    if (userMsgError) {\n      console.error('Error saving user message:', userMsgError);\n      return NextResponse.json(\n        { error: 'Failed to save message' },\n        { status: 500 }\n      );\n    }\n\n    // Build concise system prompt with Gandhi's essence\n    const systemPrompt = `You are Gandhi, a wise friend giving financial advice. Speak naturally and warmly.\n\nCRITICAL: Reply in the SAME LANGUAGE the user writes in. If they write in Hindi, reply in Hindi. If English, reply in English. If mixed, match their style.\n\nYOUR FINANCIAL DATA:\n${JSON.stringify(financialData, null, 2)}\n\nGANDHI'S MONEY WISDOM:\n- Live simply, save wisely\n- Avoid debt like poison\n- Needs before wants\n- Financial freedom = true freedom\n\nRESPONSE STYLE:\n- Answer ONLY what is asked - nothing extra\n- Keep it SHORT (2-3 sentences max)\n- Use their specific numbers when relevant\n- Be warm but direct - no lectures, no extra advice unless asked\n- Add occasional natural expressions: \"beta\", \"my friend\"\n- If they ask one thing, answer only that one thing\n\nExample: \nUser: \"How much should I save?\" \nReply: \"Beta, save at least 30% of your income. With your ‚Çπ50,000 salary, that's ‚Çπ15,000 monthly.\"\n\nNOT: \"Beta, save at least 30% of your income. With your ‚Çπ50,000 salary, that's ‚Çπ15,000 monthly. Also reduce dining expenses, build emergency fund, invest in mutual funds...\" ‚ùå\n\nAnswer ONLY the question asked. REPLY IN THEIR LANGUAGE.`;\n\n    const apiMessages: Message[] = [\n      {\n        role: 'system',\n        content: systemPrompt\n      },\n      ...chatHistory,\n      {\n        role: 'user',\n        content: message\n      }\n    ];\n\n    // Get AI response using Neysa API\n    const completion = await neysa.chat.completions.create({\n      model: 'neysa-qwen3-vl-30b-a3b',\n      messages: apiMessages,\n      max_tokens: 500, // Reduced for shorter responses\n      temperature: 0.8,\n      top_p: 0.9,\n      frequency_penalty: 0.5, // Higher to avoid repetition\n      presence_penalty: 0.3\n    });\n\n    const aiResponse = completion.choices[0]?.message?.content || \n      'My friend, something went wrong. Ask again?';\n\n    // Save AI response to database\n    const { error: aiMsgError } = await supabase\n      .from('messages')\n      .insert({\n        chat_id: activeChatId,\n        role: 'assistant',\n        content: aiResponse\n      });\n\n    if (aiMsgError) {\n      console.error('Error saving AI message:', aiMsgError);\n      return NextResponse.json(\n        { error: 'Failed to save AI response' },\n        { status: 500 }\n      );\n    }\n\n    return NextResponse.json({\n      chatId: activeChatId,\n      message: aiResponse\n    });\n\n  } catch (error) {\n    console.error('Error in chat API:', error);\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}\n\n// GET endpoint to fetch chat history\nexport async function GET(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const chatId = searchParams.get('chatId');\n\n    if (!chatId) {\n      // Return all chats\n      const { data: chats, error } = await supabase\n        .from('chats')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (error) {\n        console.error('Error fetching chats:', error);\n        return NextResponse.json(\n          { error: 'Failed to fetch chats' },\n          { status: 500 }\n        );\n      }\n\n      return NextResponse.json({ chats });\n    }\n\n    // Fetch specific chat with messages\n    const { data: chat, error: chatError } = await supabase\n      .from('chats')\n      .select('*')\n      .eq('id', chatId)\n      .single();\n\n    if (chatError) {\n      console.error('Error fetching chat:', chatError);\n      return NextResponse.json(\n        { error: 'Chat not found' },\n        { status: 404 }\n      );\n    }\n\n    const { data: messages, error: messagesError } = await supabase\n      .from('messages')\n      .select('*')\n      .eq('chat_id', chatId)\n      .order('created_at', { ascending: true });\n\n    if (messagesError) {\n      console.error('Error fetching messages:', messagesError);\n      return NextResponse.json(\n        { error: 'Failed to fetch messages' },\n        { status: 500 }\n      );\n    }\n\n    return NextResponse.json({\n      chat,\n      messages\n    });\n\n  } catch (error) {\n    console.error('Error in chat API GET:', error);\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":"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"}}]
}